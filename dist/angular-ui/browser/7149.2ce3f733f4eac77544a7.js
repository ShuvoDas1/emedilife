(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[7149],{30136:(e,t,i)=>{"use strict";i.d(t,{_f:()=>I,sv:()=>y,bB:()=>_,Jj:()=>m});var n=i(35366),r=i(61116),o=i(64762),a=i(99624);function s(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"ngx-dropzone-remove-badge",1),n["\u0275\u0275listener"]("click",function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]()._remove(t)}),n["\u0275\u0275elementEnd"]()}}const l=[[["ngx-dropzone-label"]]],c=["ngx-dropzone-label"],d=["fileInput"];function p(e,t){1&e&&n["\u0275\u0275projection"](0,2,["*ngIf","!_hasPreviews"])}const g=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],u=["ngx-dropzone-preview","*","ngx-dropzone-label"];function h(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"ngx-dropzone-remove-badge",2),n["\u0275\u0275listener"]("click",function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]()._remove(t)}),n["\u0275\u0275elementEnd"]()}}let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n["\u0275\u0275defineDirective"]({type:e,selectors:[["ngx-dropzone-label"]]}),e})();function f(e){return null!=e&&"false"!=`${e}`}var b=function(e){return e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE",e}({});let v=(()=>{class e{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new n.EventEmitter,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=f(e)}keyEvent(e){switch(e.keyCode){case b.BACKSPACE:case b.DELETE:this.remove()}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle("\n\t\t\tdisplay: flex;\n\t\t\theight: 140px;\n\t\t\tmin-height: 140px;\n\t\t\tmin-width: 180px;\n\t\t\tmax-width: 180px;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin: 10px;\n\t\t\tborder-radius: 5px;\n\t\t\tposition: relative;\n\t\t")}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){return(0,o.mG)(this,void 0,void 0,function*(){return new Promise((e,t)=>{const i=new FileReader;if(i.onload=t=>{e(t.target.result)},i.onerror=e=>{console.error(`FileReader failed on file ${this.file.name}.`),t(e)},!this.file)return t("No file to read. Please provide a file using the [file] Input property.");i.readAsDataURL(this.file)})})}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](a.DomSanitizer))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,t){1&e&&n["\u0275\u0275listener"]("keyup",function(e){return t.keyEvent(e)}),2&e&&(n["\u0275\u0275hostProperty"]("tabindex",t.tabIndex),n["\u0275\u0275styleMap"](t.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:c,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(n["\u0275\u0275projectionDef"](l),n["\u0275\u0275projection"](0),n["\u0275\u0275template"](1,s,1,0,"ngx-dropzone-remove-badge",0)),2&e&&(n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",t.removable))},directives:function(){return[r.NgIf,C]},styles:["[_nghost-%COMP%]{background-image:linear-gradient(0deg,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:hover{background-image:linear-gradient(0deg,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),e})(),x=(()=>{class e{parseFileList(e,t,i,n){const r=[],o=[];for(let a=0;a<e.length;a++){const s=e.item(a);this.isAccepted(s,t)?i&&s.size>i?this.rejectFile(o,s,"size"):!n&&r.length>=1?this.rejectFile(o,s,"no_multiple"):r.push(s):this.rejectFile(o,s,"type")}return{addedFiles:r,rejectedFiles:o}}isAccepted(e,t){if("*"===t)return!0;const i=t.split(",").map(e=>e.toLowerCase().trim()),n=e.type.toLowerCase(),r=e.name.toLowerCase();return!!i.find(e=>e.endsWith("/*")?n.split("/")[0]===e.split("/")[0]:e.startsWith(".")?r.endsWith(e):e==n)}rejectFile(e,t,i){const n=t;n.reason=i,e.push(n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{constructor(e){this.service=e,this.change=new n.EventEmitter,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=f(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=f(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=function(e){return isNaN(parseFloat(e))||isNaN(Number(e))?null:Number(e)}(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=f(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=f(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){this.disabled||(this.preventDefault(e),this._isHovered=!1,this.handleFileDrop(e.dataTransfer.files))}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){this.handleFileDrop(e.target.files),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){const t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](x,2))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,t,i){if(1&e&&n["\u0275\u0275contentQuery"](i,v,5),2&e){let e;n["\u0275\u0275queryRefresh"](e=n["\u0275\u0275loadQuery"]())&&(t._previewChildren=e)}},viewQuery:function(e,t){if(1&e&&n["\u0275\u0275viewQuery"](d,7),2&e){let e;n["\u0275\u0275queryRefresh"](e=n["\u0275\u0275loadQuery"]())&&(t._fileInput=e.first)}},hostVars:8,hostBindings:function(e,t){1&e&&n["\u0275\u0275listener"]("click",function(){return t._onClick()})("dragover",function(e){return t._onDragOver(e)})("dragleave",function(){return t._onDragLeave()})("drop",function(e){return t._onDrop(e)}),2&e&&n["\u0275\u0275classProp"]("ngx-dz-hovered",t._isHovered)("ngx-dz-disabled",t.disabled)("expandable",t.expandable)("unclickable",t.disableClick)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedBy:["aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[n["\u0275\u0275ProvidersFeature"]([x])],ngContentSelectors:u,decls:5,vars:8,consts:[["type","file",3,"id","multiple","accept","disabled","change"],["fileInput",""],[4,"ngIf"]],template:function(e,t){1&e&&(n["\u0275\u0275projectionDef"](g),n["\u0275\u0275elementStart"](0,"input",0,1),n["\u0275\u0275listener"]("change",function(e){return t._onFilesSelected(e)}),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](2,p,1,0,"ng-content",2),n["\u0275\u0275projection"](3),n["\u0275\u0275projection"](4,1)),2&e&&(n["\u0275\u0275property"]("id",t.id)("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled),n["\u0275\u0275attribute"]("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedBy),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!t._hasPreviews))},directives:[r.NgIf],styles:["[_nghost-%COMP%]{align-items:center;background:#fff;border:2px dashed #717386;border-radius:5px;color:#717386;cursor:pointer;display:flex;font-size:16px;height:180px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{cursor:no-drop;opacity:.5;pointer-events:none}.expandable[_nghost-%COMP%]{flex-wrap:wrap;height:unset;min-height:180px;overflow:hidden}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{margin:10px auto;text-align:center;z-index:10}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{height:.1px;opacity:0;overflow:hidden;position:absolute;width:.1px;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:5px auto -webkit-focus-ring-color}"]}),e})(),y=(()=>{class e extends v{constructor(e){super(e),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(e){this._file=e,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(e=>setTimeout(()=>this.imageSrc=e)).catch(e=>console.error(e))}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](a.DomSanitizer))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[n["\u0275\u0275ProvidersFeature"]([{provide:v,useExisting:e}]),n["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:c,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(n["\u0275\u0275projectionDef"](l),n["\u0275\u0275element"](0,"img",0),n["\u0275\u0275projection"](1),n["\u0275\u0275template"](2,h,1,0,"ngx-dropzone-remove-badge",1)),2&e&&(n["\u0275\u0275property"]("src",t.imageSrc,n["\u0275\u0275sanitizeUrl"]),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",t.removable))},directives:function(){return[r.NgIf,C]},styles:["[_nghost-%COMP%]{max-width:unset!important;min-width:unset!important;padding:0!important}[_nghost-%COMP%]:focus   img[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px;max-height:100%;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word;position:absolute}"]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,t){1&e&&(n["\u0275\u0275namespaceSVG"](),n["\u0275\u0275elementStart"](0,"svg"),n["\u0275\u0275element"](1,"line",0),n["\u0275\u0275element"](2,"line",1),n["\u0275\u0275elementEnd"]())},styles:["[_nghost-%COMP%]{align-items:center;background:#bbb;border-radius:50%;color:#333;cursor:pointer;display:flex;height:22px;justify-content:center;position:absolute;right:5px;top:5px;width:22px}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2px}"]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=n["\u0275\u0275defineInjector"]({imports:[[r.CommonModule]]}),e})()},45763:(e,t,i)=>{"use strict";i.d(t,{J:()=>l});var n=i(529),r=i(35366),o=i(42693),a=i(56507);const s=n.N.ftpBaseLink+"/api/upload/";let l=(()=>{class e{constructor(e,t){this.httpClient=e,this.utilsService=t}uploadSingleImage(e){const t=new FormData;return t.append("folderPath",e.folderPath),t.append("image",e.file,e.fileName),this.httpClient.post(s+"single-image-original",t)}uploadSingleConvertToMulti(e,t){const i=new FormData;return i.append("productImage",e,t),this.httpClient.post(s+"single-image-to-multi-convert",i)}uploadMultiImageOriginal(e){const t=new FormData;return e.forEach(e=>{const i=this.utilsService.getImageName(e.name)+this.utilsService.getRandomInt(100,5e3)+"."+e.name.split(".").pop();t.append("imageMulti",e,i)}),this.httpClient.post(s+"multi-image-original",t)}removeFileMultiArray(e){return this.httpClient.post(s+"remove-file-from-array",{data:e})}removeSingleFile(e){return this.httpClient.post(s+"remove-file-single",{url:e})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o.eN),r["\u0275\u0275inject"](a.F))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[1098],{41098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CategoryMenuModule:()=>te});var r=n(61116),i=n(33464),a=n(80848),o=n(35366),l=n(16755),c=n(68370),s=n(92935),d=n(99896),g=n(31269),u=n(84369),p=n(77307);const m=function(e,t,n){return["/product-list",e,t,n]};function h(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"a",5),o["\u0275\u0275text"](1),o["\u0275\u0275elementStart"](2,"span"),o["\u0275\u0275element"](3,"i",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"]().$implicit,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction3"](2,m,null==r.parentCategory?null:r.parentCategory.slug,n.slug,e.slug)),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.name," ")}}const C=function(e,t){return["/product-list",e,t]};function y(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",3),o["\u0275\u0275elementStart"](1,"div",4),o["\u0275\u0275elementStart"](2,"a",5),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"ul"),o["\u0275\u0275elementStart"](5,"li"),o["\u0275\u0275template"](6,h,4,6,"a",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction2"](3,C,null==n.parentCategory?null:n.parentCategory.slug,e.slug)),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate"](e.name),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngForOf",e.hasChild)}}let f=(()=>{class e{constructor(){this.parentCategory=null,this.data=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-menu-hover-content"]],inputs:{parentCategory:"parentCategory",data:"data"},decls:3,vars:1,consts:[["id","sub-mega-menu"],[1,"hover-menu-main"],["class","hover-menu-colum",4,"ngFor","ngForOf"],[1,"hover-menu-colum"],[1,"hover-menu-details"],["target","_blank",3,"routerLink"],["target","_blank",3,"routerLink",4,"ngFor","ngForOf"],[1,"fa","fa-angle-right"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275template"](2,y,7,6,"div",2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.data))},directives:[r.NgForOf,i.yS],styles:[".hover-menu-main[_ngcontent-%COMP%]{background-color:#fff;padding:25px 30px;box-sizing:border-box;display:grid;grid-template-columns:repeat(2,49%);grid-template-rows:auto;grid-gap:20px}.hover-menu-colum[_ngcontent-%COMP%]{display:block;border-right:1px solid #eee;padding-right:15px}.hover-menu-colum[_ngcontent-%COMP%]:nth-child(2), .hover-menu-colum[_ngcontent-%COMP%]:nth-child(4), .hover-menu-colum[_ngcontent-%COMP%]:nth-child(6), .hover-menu-colum[_ngcontent-%COMP%]:nth-child(8), .hover-menu-colum[_ngcontent-%COMP%]:nth-child(10), .hover-menu-colum[_ngcontent-%COMP%]:nth-child(12){border:none}.hover-menu-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#be0101;font-weight:500;font-style:normal;font-family:Poppins,sans-serif;font-size:15px;display:block;margin-bottom:6px;transition:all .3s linear;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hover-menu-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hover-menu-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:block}.hover-menu-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:7px;min-width:100%}.hover-menu-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;color:#757575;font-weight:400;font-size:14px;display:block;cursor:pointer;transition:all .3s linear}.hover-menu-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:13px;font-weight:500;position:relative;top:1px;left:4px}.hover-menu-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#be0101;text-decoration:underline;transform:translateX(3px)}@media (max-width:1000px){.hover-menu-main[_ngcontent-%COMP%]{grid-template-columns:repeat(2,49%)!important}}"]}),e})();var b=n(24595);function v(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",18),o["\u0275\u0275element"](1,"app-menu-hover-content",19),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]().$implicit;o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("parentCategory",e)("data",e.hasChild)}}const M=function(e){return["edit-category-menu",e]};function x(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"li"),o["\u0275\u0275elementStart"](1,"div",12),o["\u0275\u0275elementStart"](2,"button",13),o["\u0275\u0275elementStart"](3,"mat-icon"),o["\u0275\u0275text"](4,"edit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",14),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().openConfirmDialog(t._id)}),o["\u0275\u0275elementStart"](6,"mat-icon"),o["\u0275\u0275text"](7,"delete"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"a",15),o["\u0275\u0275text"](9),o["\u0275\u0275elementStart"](10,"span",16),o["\u0275\u0275text"](11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"mat-icon"),o["\u0275\u0275text"](13,"arrow_right"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](14,v,2,2,"div",17),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](4,M,e._id)),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"]("",e.name," "),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("(",e.priority,")"),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",e.hasChild.length>0)}}const S=function(){return["add-category-menu"]};let O=(()=>{class e{constructor(e,t,n,r,i){this.menuService=e,this.reloadService=t,this.dialog=n,this.uiService=r,this.spinner=i,this.categoryMenus=[]}ngOnInit(){this.reloadService.refreshCategoryMenu$.subscribe(()=>{this.getAllCategoryMenu()}),this.getAllCategoryMenu()}openConfirmDialog(e){this.dialog.open(a.$,{maxWidth:"400px",data:{title:"Confirm Delete",message:"Are you sure you want delete this category?"}}).afterClosed().subscribe(t=>{t&&this.deleteCategoryMenuById(e)})}getAllCategoryMenu(){this.spinner.show(),this.menuService.getAllCategoryMenu().subscribe(e=>{this.categoryMenus=e.data,this.spinner.hide()},e=>{this.spinner.hide(),console.log(e)})}deleteCategoryMenuById(e){this.spinner.show(),this.menuService.deleteCategoryMenuById(e).subscribe(e=>{this.uiService.success(e.message),this.reloadService.needRefreshCategoryMenu$(),this.spinner.hide()},e=>{console.log(e),this.spinner.hide()})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](l.h),o["\u0275\u0275directiveInject"](c.f),o["\u0275\u0275directiveInject"](s.uw),o["\u0275\u0275directiveInject"](d.F),o["\u0275\u0275directiveInject"](g.t2))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-category-menu"]],decls:19,vars:7,consts:[[1,"top-action"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"header"],[1,"center-square"],[1,"view-area"],[1,"container"],[1,"cat-list-viewer","no-select"],[1,"hover-menu","bg-color"],[1,"main-menu"],[4,"ngFor","ngForOf"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],[1,"action"],["mat-icon-button","",3,"routerLink"],["mat-icon-button","",3,"click"],["href","javascript:"],[2,"font-size","10px","color","#FFFFFF"],["class","sub-mega-menu",4,"ngIf"],[1,"sub-mega-menu"],[3,"parentCategory","data"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"button",1),o["\u0275\u0275elementStart"](2,"mat-icon"),o["\u0275\u0275text"](3,"add"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](4," Add New Category Menu "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",2),o["\u0275\u0275elementStart"](6,"h2"),o["\u0275\u0275text"](7,"Category Menu List"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](8,"hr",3),o["\u0275\u0275elementStart"](9,"div",4),o["\u0275\u0275elementStart"](10,"div",5),o["\u0275\u0275elementStart"](11,"div",6),o["\u0275\u0275elementStart"](12,"nav",7),o["\u0275\u0275elementStart"](13,"ul",8),o["\u0275\u0275template"](14,x,15,6,"li",9),o["\u0275\u0275pipe"](15,"sort"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"ngx-spinner",10),o["\u0275\u0275elementStart"](17,"p",11),o["\u0275\u0275text"](18," Loading... "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction0"](6,S)),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind2"](15,3,t.categoryMenus,"priority")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("fullScreen",!0))},directives:[u.lW,i.rH,p.Hw,r.NgForOf,g.Ro,r.NgIf,f],pipes:[b.U],styles:['.hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:260px;z-index:50}.hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:8px;gap:8px}.hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .hover-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.hover-menu[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;position:relative}.main-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:55px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;border-bottom:1px solid #ffffff54;cursor:pointer}.hover-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:15px;font-weight:400;cursor:pointer;font-family:Open Sans,sans-serif}.main-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background:#017970}.hover-menu[_ngcontent-%COMP%]   .super-sub-menu[_ngcontent-%COMP%]{top:0;right:0;transform:translate(100%)}.clearfix[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.sub-mega-menu[_ngcontent-%COMP%]{display:none;transition:all .3s linear;background-color:#fff;border:1px solid #e2e2e2;box-shadow:0 2px 11px 3px #0000001a;-moz-box-shadow:0 2px 11px 3px #0000001a;-webkit-box-shadow:0 2px 11px 3px #0000001a;width:700px;min-height:500px;max-height:100%;overflow-y:auto;box-sizing:border-box;position:absolute;top:0;left:100%}.sub-mega-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.sub-mega-menu[_ngcontent-%COMP%]::-webkit-scrollbar, .sub-mega-menu[_ngcontent-%COMP%]::-webkit-scrollbar-track{display:block;background-color:#fff}.sub-mega-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:gray;border-radius:20px;height:30px}.hover-menu[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .sub-mega-menu[_ngcontent-%COMP%]{display:block}@media (max-width:1000px){.sub-mega-menu[_ngcontent-%COMP%]{width:600px}}@media (min-width:960px) and (max-width:1300px){.main-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:45px;padding:0 17px}.sub-mega-menu[_ngcontent-%COMP%]{min-height:400px}}.top-action[_ngcontent-%COMP%]{text-align:right;margin-top:16px;padding-right:16px}.top-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans,sans-serif}.view-area[_ngcontent-%COMP%]{width:100%;margin-top:20px;position:fixed;z-index:99;margin-bottom:30px}.view-area[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1440px;margin:0 auto;height:auto;display:flex;justify-content:space-between;align-items:center;padding:16px 20px}.hover-menu[_ngcontent-%COMP%]{width:350px}.hover-menu.bg-color[_ngcontent-%COMP%]{background:#be0101}']}),e})();var _=function(e){return e.MATERIAL="MAT_ICON",e.FONT_AWESOME="FONT_AWESOME_ICON",e}({}),P=n(56507),w=n(34535),E=n(81830),I=n(36140),k=n(13070),F=n(9550),N=n(31041),j=n(13841),z=n(41293),B=n(87064),A=n(22797);const T=["inputElement"],L=["inputIconName"],q=["inputIconType"],R=["matSelectCat"],$=["matSelectSubCat"];function D(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e.value),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.viewValue," ")}}function Q(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.categoryName," ")}}function W(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.subCategoryName)}}function V(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"mat-option",25),o["\u0275\u0275elementStart"](1,"span"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.brandName)}}function H(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"mat-card",28),o["\u0275\u0275elementStart"](1,"h3"),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"mat-form-field",6),o["\u0275\u0275elementStart"](4,"mat-label"),o["\u0275\u0275text"](5,"Brand"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"mat-select",29),o["\u0275\u0275listener"]("selectionChange",function(t){const n=o["\u0275\u0275restoreView"](e).index;return o["\u0275\u0275nextContext"](2).onSelectSubCatBrand(t,n)}),o["\u0275\u0275template"](7,V,3,2,"mat-option",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.name),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("value",n.getBrand(e.hasChild)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",n.brands)}}function U(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275template"](1,H,8,3,"mat-card",27),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",e.categoryMenu.hasChild)}}function X(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",30),o["\u0275\u0275elementStart"](1,"button",31),o["\u0275\u0275listener"]("click",function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275nextContext"]().openConfirmDialog()}),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"](" ",e.id?"Update Menu":"Save Menu"," ")}}let J=(()=>{class e{constructor(e,t,n,r,i,a,o,l,c){this.utilsService=e,this.uiService=t,this.brandService=n,this.categoryService=r,this.subCategoryService=i,this.menuService=a,this.dialog=o,this.activatedRoute=l,this.spinner=c,this.priority=null,this.iconType=null,this.iconName=null,this.categoryMenu=null,this.id=null,this.storedCategoryMenu=null,this.brands=[],this.categories=[],this.subCategories=[],this.iconTypes=[{value:_.MATERIAL,viewValue:"Material Icon"},{value:_.FONT_AWESOME,viewValue:"Font Awesome Icon"}]}ngOnInit(){this.getAllCategory(),this.getAllBrands(),this.activatedRoute.paramMap.subscribe(e=>{this.id=e.get("id"),this.id&&this.getCategoryMenuById()})}openConfirmDialog(){this.priority?this.dialog.open(a.$,{maxWidth:"400px",data:{title:"Confirm Save",message:"Are you sure you want save this menu?"}}).afterClosed().subscribe(e=>{e&&(this.id?this.updateCategoryMenu():this.addNewCategoryMenu())}):this.uiService.wrong("Priority is required")}onSelectCategory(e){this.categoryMenu={id:e.value._id,name:e.value.categoryName,slug:e.value.categorySlug,hasChild:[],priority:this.priority},this.getSubCategoryByCategoryId(e.value._id)}onSelectSubCat(e){this.categoryMenu.hasChild=e.value.map(e=>({id:e._id,name:e.subCategoryName,slug:e.subCategorySlug,hasChild:[],priority:null}))}onSelectSubCatBrand(e,t){this.categoryMenu.hasChild[t].hasChild=e.value.map(e=>({id:e._id,name:e.brandName,slug:e.brandSlug,hasChild:[],priority:null}))}priorityChangeFn(e){null===this.categoryMenu?this.categoryMenu={id:null,name:null,slug:null,hasChild:[],priority:e}:this.categoryMenu.priority=e}getAllCategory(){this.categoryService.getAllCategory().subscribe(e=>{this.categories=e.data},e=>{console.log(e)})}getSubCategoryByCategoryId(e){this.subCategoryService.getSubCategoryByCategoryId(e).subscribe(e=>{this.subCategories=e.data,this.id&&(this.matSelectSubCat.value=this.subCategories.filter(e=>0!==this.categoryMenu.hasChild.filter(t=>t.id===e._id).length))},e=>{console.log(e)})}getAllBrands(){this.brandService.getAllBrands().subscribe(e=>{this.brands=e.data},e=>{console.log(e)})}addNewCategoryMenu(){this.spinner.show();const e={priority:this.priority,iconType:this.iconType,iconName:this.iconName},t=Object.assign(Object.assign({},this.categoryMenu),e);this.menuService.addNewCategoryMenu(t).subscribe(e=>{this.uiService.success(e.message),this.categoryMenu=null,this.subCategories=[],this.priority=null,this.spinner.hide()},e=>{console.log(e),this.spinner.hide()})}updateCategoryMenu(){this.spinner.show();const e={priority:this.priority,iconType:this.iconType,iconName:this.iconName},t=Object.assign(Object.assign(Object.assign({},this.categoryMenu),e),{_id:this.id});this.menuService.updateCategoryMenu(t).subscribe(e=>{this.uiService.success(e.message),this.spinner.hide()},e=>{console.log(e),this.spinner.hide()})}getCategoryMenuById(){this.spinner.show(),this.menuService.getCategoryMenuById(this.id).subscribe(e=>{this.storedCategoryMenu=e.data,this.categoryMenu=this.storedCategoryMenu,this.getSubCategoryByCategoryId(this.categoryMenu.id),this.storedCategoryMenu&&this.setData(),this.spinner.hide()},e=>{console.log(e),this.spinner.hide()})}setData(){this.priority=this.storedCategoryMenu.priority,this.matSelectCat.value=this.categories.find(e=>e._id===this.storedCategoryMenu.id)}getBrand(e){return this.id?this.brands.filter(t=>0!==e.filter(e=>e.id===t._id).length):null}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](P.F),o["\u0275\u0275directiveInject"](d.F),o["\u0275\u0275directiveInject"](w.c),o["\u0275\u0275directiveInject"](E.H),o["\u0275\u0275directiveInject"](I.Q),o["\u0275\u0275directiveInject"](l.h),o["\u0275\u0275directiveInject"](s.uw),o["\u0275\u0275directiveInject"](i.gz),o["\u0275\u0275directiveInject"](g.t2))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-category-menu"]],viewQuery:function(e,t){if(1&e&&(o["\u0275\u0275viewQuery"](T,5),o["\u0275\u0275viewQuery"](L,5),o["\u0275\u0275viewQuery"](q,5),o["\u0275\u0275viewQuery"](R,5),o["\u0275\u0275viewQuery"]($,5)),2&e){let e;o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.inputElement=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.inputIconName=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.inputIconType=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.matSelectCat=e.first),o["\u0275\u0275queryRefresh"](e=o["\u0275\u0275loadQuery"]())&&(t.matSelectSubCat=e.first)}},decls:54,vars:10,consts:[[1,"container-fluid"],[1,"header"],[1,"link"],["href","https://fonts.google.com/icons","target","_blank"],["href","https://fontawesome.com/v5.15/icons?d=gallery&p=2&m=free","target","_blank"],[1,"required-area"],["appearance","outline",1,"mat-form-field"],["matInput","","placeholder","Enter priority number","type","number",3,"ngModel","ngModelChange"],["inputPriority",""],["placeholder","Select Icon Type",3,"ngModel","ngModelChange"],["inputIconType",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxHide","",1,"mat-form-field",3,"fxShow"],["matInput","","placeholder","Enter icon name",3,"ngModel","ngModelChange"],["inputIconName",""],[1,"main-top"],[1,"px-1"],["placeholder","Select category",3,"selectionChange"],["matSelectCat",""],["required","","multiple","",3,"selectionChange"],["matSelectSubCat",""],["class","sub-cat-list",4,"ngIf"],["class","action-view",4,"ngIf"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],[3,"value"],[1,"sub-cat-list"],["class","m-card",4,"ngFor","ngForOf"],[1,"m-card"],["multiple","",3,"value","selectionChange"],[1,"action-view"],["mat-raised-button","","color","primary",1,"btn-round",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"h2"),o["\u0275\u0275text"](3,"Add New Category Menu"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"div",2),o["\u0275\u0275elementStart"](5,"p"),o["\u0275\u0275elementStart"](6,"a",3),o["\u0275\u0275text"](7,"Material Icon"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"p"),o["\u0275\u0275elementStart"](9,"a",4),o["\u0275\u0275text"](10,"Font Awesome Icon"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"div",5),o["\u0275\u0275elementStart"](12,"mat-form-field",6),o["\u0275\u0275elementStart"](13,"mat-label"),o["\u0275\u0275text"](14,"Priority Number"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"input",7,8),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.priority=e})("ngModelChange",function(e){return t.priorityChangeFn(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"mat-error"),o["\u0275\u0275text"](18,"This field is required"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](19,"mat-form-field",6),o["\u0275\u0275elementStart"](20,"mat-label"),o["\u0275\u0275text"](21,"Icon Type"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"mat-select",9,10),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.iconType=e}),o["\u0275\u0275template"](24,D,2,2,"mat-option",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"mat-form-field",12),o["\u0275\u0275elementStart"](26,"mat-label"),o["\u0275\u0275text"](27,"Icon Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](28,"input",13,14),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.iconName=e}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](30,"div",15),o["\u0275\u0275elementStart"](31,"div",16),o["\u0275\u0275elementStart"](32,"mat-form-field",6),o["\u0275\u0275elementStart"](33,"mat-label"),o["\u0275\u0275text"](34,"Category"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](35,"mat-select",17,18),o["\u0275\u0275listener"]("selectionChange",function(e){return t.onSelectCategory(e)}),o["\u0275\u0275template"](37,Q,2,2,"mat-option",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](38,"mat-error"),o["\u0275\u0275text"](39,"Category is required"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](40,"div",16),o["\u0275\u0275elementStart"](41,"mat-form-field",6),o["\u0275\u0275elementStart"](42,"mat-label"),o["\u0275\u0275text"](43,"Sub Category"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](44,"mat-select",19,20),o["\u0275\u0275listener"]("selectionChange",function(e){return t.onSelectSubCat(e)}),o["\u0275\u0275template"](46,W,3,2,"mat-option",11),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](47,"mat-error"),o["\u0275\u0275text"](48,"SubCategory is required"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](49,U,2,1,"div",21),o["\u0275\u0275template"](50,X,3,1,"div",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](51,"ngx-spinner",23),o["\u0275\u0275elementStart"](52,"p",24),o["\u0275\u0275text"](53," Loading... "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](15),o["\u0275\u0275property"]("ngModel",t.priority),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",t.iconType),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.iconTypes),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("fxShow",t.iconType),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngModel",t.iconName),o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("ngForOf",t.categories),o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("ngForOf",t.subCategories),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("ngIf",t.categoryMenu&&t.categoryMenu.hasChild.length>0),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.categoryMenu),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("fullScreen",!0))},directives:[k.KE,k.hX,F.Nt,N.wV,N.Fj,N.JJ,N.On,k.TO,j.gD,r.NgForOf,z.b8,r.NgIf,g.Ro,B.ey,A.a8,u.lW],styles:[".container-fluid[_ngcontent-%COMP%]{width:95%;max-width:1050px;margin:25px auto}.header[_ngcontent-%COMP%]{padding:10px 0}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-family:Open Sans,sans-serif;color:#333;font-weight:600}.header[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5}.header[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#367bff;font-size:16px;font-weight:600;transition:all .3s linear}.header[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#1059e0}.required-area[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;border-bottom:1px solid #e6e6e6}.required-area[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0 6px}.main-top[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:16px}.main-top[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:380px}.sub-cat-list[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:20px;margin-top:30px}.sub-cat-list[_ngcontent-%COMP%]   .m-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;padding-bottom:10px}.sub-cat-list[_ngcontent-%COMP%]   .m-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.action-view[_ngcontent-%COMP%]{text-align:center;margin-top:18px}.action-view[_ngcontent-%COMP%]   .btn-round[_ngcontent-%COMP%]{padding:5px 35px;border-radius:35px!important}"]}),e})();const K=[{path:"",component:O},{path:"add-category-menu",component:J},{path:"edit-category-menu/:id",component:J}];let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[i.Bz.forChild(K)],i.Bz]}),e})();var Y=n(56861),Z=n(12231),ee=n(77154);let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.CommonModule,G,Y.q,N.UX,N.u5,Z.D,g.ef,ee.o9]]}),e})()},81830:(e,t,n)=>{"use strict";n.d(t,{H:()=>c});var r=n(529),i=n(42693),a=n(99129),o=n(35366);const l=r.N.apiBaseLink+"/api/product-category/";let c=(()=>{class e{constructor(e){this.httpClient=e,this.categories=[]}addCategory(e){return this.httpClient.post(l+"add-category",e)}insertManyCategory(e){return this.httpClient.post(l+"add-multiple-category",e)}getAllCategory(e,t){let n=new i.LE;return e&&(n=n.append("pageSize",e.pageSize),n=n.append("page",e.currentPage)),t&&(n=n.append("isFeatured",t)),this.httpClient.get(l+"get-all-categories",{params:n})}getAllCategoryWithCount(e,t){let n=new i.LE;return e&&(n=n.append("pageSize",e.pageSize),n=n.append("page",e.currentPage)),t&&(n=n.append("isFeatured",t)),this.httpClient.get(l+"get-all-categories-with-count",{params:n})}getCategoryByCategoryId(e){return this.httpClient.get(l+"get-category-by-category-id/"+e)}editCategoryData(e){return this.httpClient.put(l+"edit-category-by-category",e)}getCategoryBySearch(e){return this.httpClient.get(l+"get-category-by-search/"+e)}deleteCategory(e){return this.httpClient.delete(l+"delete-category-by-id/"+e)}getCategoryByCategorySlug(e){return this.httpClient.get(l+"get-category-by-category-slug/"+e)}getSearchCategories(e,t){const n=t;let r=new i.LE;return r=r.append("q",e),r=r.append("pageSize",t.pageSize),r=r.append("currentPage",t.currentPage),this.httpClient.post(l+"get-categories-by-search",n,{params:r})}getAllCategoryNoRepeat(e){return new a.y(t=>{if(this.categories.length>0)t.next({data:this.categories}),t.complete();else{let n=new i.LE;e&&(n=n.append("select",e)),this.httpClient.get(l+"get-all-categories",{params:n}).subscribe(e=>{this.categories=e.data,t.next({data:this.categories}),t.complete()},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},36140:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(529),i=n(42693),a=n(35366);const o=r.N.apiBaseLink+"/api/product-sub-category/";let l=(()=>{class e{constructor(e){this.httpClient=e}addSubCategory(e){return this.httpClient.post(o+"add-sub-category",e)}insertManySubCategory(e){return this.httpClient.post(o+"add-multiple-sub-category",e)}getAllSubCategory(e){if(e){let t=new i.LE;return t=t.append("pageSize",e.pageSize),t=t.append("page",e.currentPage),this.httpClient.get(o+"get-all-sub-categories",{params:t})}return this.httpClient.get(o+"get-all-sub-categories")}getAllSubCategoryWithCount(e){if(e){let t=new i.LE;return t=t.append("pageSize",e.pageSize),t=t.append("page",e.currentPage),this.httpClient.get(o+"get-all-sub-categories-with-count",{params:t})}return this.httpClient.get(o+"get-all-sub-categories-with-count")}getSubCategoryByCategoryId(e){return this.httpClient.get(o+"get-sub-category-by-category-id/"+e)}editSubCategoryData(e){return this.httpClient.put(o+"edit-sub-category-by-sub-category",e)}getSubCategoryBySubCategoryId(e){return this.httpClient.get(o+"get-sub-category-by-sub-category-id/"+e)}getSubCategoryBySearch(e){return this.httpClient.get(o+"get-sub-category-by-search/"+e)}deleteSubCategory(e){return this.httpClient.delete(o+"delete-sub-category-by-id/"+e)}getSubCategoryBySubCategorySlug(e){return this.httpClient.get(o+"get-sub-category-by-sub-category-slug/"+e)}getSearchSubCategory(e,t){const n=t;let r=new i.LE;return r=r.append("q",e),r=r.append("pageSize",t.pageSize),r=r.append("currentPage",t.currentPage),this.httpClient.post(o+"get-sub-categories-by-search",n,{params:r})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](i.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},80848:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(92935),i=n(35366),a=n(84369);let o=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.so),i["\u0275\u0275directiveInject"](r.WI))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirm-dialog"]],decls:12,vars:2,consts:[[1,"dialog-container"],[1,"confirm-dialog-area"],[1,"info"],[1,"actions-around"],["mat-raised-button","","color","warn","type","button",1,"btn-round",3,"click"],["mat-raised-button","","color","primary","type","button",1,"btn-round",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"h1"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"p"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",3),i["\u0275\u0275elementStart"](8,"button",4),i["\u0275\u0275listener"]("click",function(){return t.onDismiss()}),i["\u0275\u0275text"](9," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",5),i["\u0275\u0275listener"]("click",function(){return t.onConfirm()}),i["\u0275\u0275text"](11," Confirm "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](t.data.title),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.data.message))},directives:[a.lW],styles:[".dialog-container[_ngcontent-%COMP%]{width:350px}.btn-round[_ngcontent-%COMP%]{margin:auto;width:150px;padding:5px;font-size:16px;border-radius:50px}.actions-around[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:25px}.actions-around[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}@media only screen and (max-device-width:599px){.dialog-container[_ngcontent-%COMP%]{width:95%;margin:0 auto}.btn-round[_ngcontent-%COMP%]{margin:auto;width:130px;padding:5px;font-size:14.5px;border-radius:50px}.btn-round[_ngcontent-%COMP%]:first-child{margin-right:10px}}"]}),e})()}}]);
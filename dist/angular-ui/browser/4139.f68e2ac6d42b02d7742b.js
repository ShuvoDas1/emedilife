(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[4139],{57147:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,E7:()=>a});var i=n(35366);let r=(()=>{class e{constructor(e){this.el=e,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.allowNegatives=!1,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=e.nativeElement}ngOnChanges(e){if(e.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),e.min){const e=Number(this.min);this.min=isNaN(e)?-1/0:e}if(e.max){const e=Number(this.max);this.max=isNaN(e)?1/0:e}}onBeforeInput(e){if(isNaN(Number(e.data))){if(e.data===this.decimalSeparator||e.data===this.negativeSign&&this.allowNegatives)return;e.preventDefault(),e.stopPropagation()}}onKeyDown(e){if(this.navigationKeys.indexOf(e.key)>-1||("a"===e.key||"KeyA"===e.code)&&!0===e.ctrlKey||("c"===e.key||"KeyC"===e.code)&&!0===e.ctrlKey||("v"===e.key||"KeyV"===e.code)&&!0===e.ctrlKey||("x"===e.key||"KeyX"===e.code)&&!0===e.ctrlKey||("a"===e.key||"KeyA"===e.code)&&!0===e.metaKey||("c"===e.key||"KeyC"===e.code)&&!0===e.metaKey||("v"===e.key||"KeyV"===e.code)&&!0===e.metaKey||("x"===e.key||"KeyX"===e.code)&&!0===e.metaKey)return;let t="";if(this.decimal&&e.key===this.decimalSeparator)return t=this.forecastValue(e.key),t.split(this.decimalSeparator).length>2?void e.preventDefault():void(this.hasDecimalPoint=t.indexOf(this.decimalSeparator)>-1);if(e.key===this.negativeSign&&this.allowNegatives)return t=this.forecastValue(e.key),t.charAt(0)!==this.negativeSign||t.split(this.negativeSign).length>2?void e.preventDefault():void(this.hasNegativeSign=t.split(this.negativeSign).length>-1);if(" "===e.key||isNaN(Number(e.key)))return void e.preventDefault();if(t=t||this.forecastValue(e.key),this.regex&&!this.regex.test(t))return void e.preventDefault();const n=Number(t);(n>this.max||n<this.min)&&e.preventDefault()}onPaste(e){let t="";window.clipboardData?t=window.clipboardData.getData("text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),this.pasteData(t),e.preventDefault()}onDrop(e){var t,n;const i=null!==(n=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))&&void 0!==n?n:"";this.inputElement.focus(),this.pasteData(i),e.preventDefault()}pasteData(e){const t=this.sanitizeInput(e);if(!t.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,t))if(this.inputElement.setRangeText){const{selectionStart:e,selectionEnd:n}=this.inputElement;this.inputElement.setRangeText(t,null!=e?e:0,null!=n?n:0,"end"),void 0!==window.InstallTrigger&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,t);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}insertAtCursor(e,t){var n,i;const r=null!==(n=e.selectionStart)&&void 0!==n?n:0,a=null!==(i=e.selectionEnd)&&void 0!==i?i:0;e.value=e.value.substring(0,r)+t+e.value.substring(a,e.value.length);const o=r+t.length;e.focus(),e.setSelectionRange(o,o),this.triggerEvent(e,"input")}triggerEvent(e,t){if("createEvent"in document){const n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}}sanitizeInput(e){let t,n="";t=this.decimal&&this.isValidDecimal(e)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),n=e.replace(t,"");const i=this.inputElement.maxLength;if(i>0){const e=i-this.inputElement.value.length+(n.includes(`${this.negativeSign}`)?1:0);n=e>0?n.substring(0,e):""}return n}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(e){if(this.hasDecimalPoint){const t=this.getSelection();return t&&t.indexOf(this.decimalSeparator)>-1?e.split(this.decimalSeparator).length<=2:e.indexOf(this.decimalSeparator)<0}return e.split(this.decimalSeparator).length<=2}getSelection(){var e,t;return this.inputElement.value.substring(null!==(e=this.inputElement.selectionStart)&&void 0!==e?e:0,null!==(t=this.inputElement.selectionEnd)&&void 0!==t?t:0)}forecastValue(e){var t,n;const i=null!==(t=this.inputElement.selectionStart)&&void 0!==t?t:0,r=null!==(n=this.inputElement.selectionEnd)&&void 0!==n?n:0,a=this.inputElement.value;return a.substring(0,i)+e+a.substring(r)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","digitOnly",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("beforeinput",function(e){return t.onBeforeInput(e)})("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})("drop",function(e){return t.onDrop(e)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",allowNegatives:"allowNegatives",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[]]}),e})()},83588:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(79996);function r(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n=>(0,i.U)(function(e,t){return n=>{let i=n;for(let r=0;r<t;r++){const t=null!=i?i[e[r]]:void 0;if(void 0===t)return;i=t}return i}}(e,t))(n)}},14139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddProductModule:()=>Ve});var i=n(61116),r=n(33464),a=n(31041),o=n(92935),l=n(35366),s=n(45763),c=n(85004),d=n(56507),p=n(68370),g=n(99896),m=n(84369),u=n(77307),h=n(13070),f=n(13841),y=n(30136),v=n(87064);function b(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",12),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"titlecase"),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,2,e.name)," ")}}function C(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"ngx-dropzone-image-preview",13),l["\u0275\u0275listener"]("removed",function(){const t=l["\u0275\u0275restoreView"](e).$implicit;return l["\u0275\u0275nextContext"]().onRemove(t)}),l["\u0275\u0275elementStart"](1,"ngx-dropzone-label"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275property"]("file",e)("removable",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](e.type)}}let S=(()=>{class e{constructor(e,t,n,i,r,a,o){this.fileUploadService=e,this.galleryService=t,this.utilsService=n,this.reloadService=i,this.uiService=r,this.dialogRef=a,this.data=o,this.files=[],this.folders=[],this.selectedFolder=null}ngOnInit(){this.data&&(this.folders=this.data)}onSelect(e){this.files.push(...e.addedFiles),console.log(this.files)}onRemove(e){console.log(e),this.files.splice(this.files.indexOf(e),1)}onUploadImages(){this.selectedFolder?!this.files||this.files.length<=0?this.uiService.warn("No Image selected!"):this.fileUploadService.uploadMultiImageOriginal(this.files).subscribe(e=>{const t=e.downloadUrls.map(e=>({url:e,name:this.utilsService.getPopString(e),folder:this.selectedFolder}));this.addImagesToGallery(t)},e=>{console.log(e)}):this.uiService.warn("No Folder name found!")}addImagesToGallery(e){this.galleryService.addNewGalleryMultiData(e).subscribe(e=>{this.reloadService.needRefreshGallery$(),this.dialogRef.close(),console.log(e.message)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](s.J),l["\u0275\u0275directiveInject"](c.r),l["\u0275\u0275directiveInject"](d.F),l["\u0275\u0275directiveInject"](p.f),l["\u0275\u0275directiveInject"](g.F),l["\u0275\u0275directiveInject"](o.so),l["\u0275\u0275directiveInject"](o.WI))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-upload-image"]],decls:20,vars:4,consts:[[1,"dialog-container"],[1,"header"],["mat-icon-button","","mat-dialog-close",""],[1,"content"],["appearance","outline",1,"mat-select-folder"],["name","food",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ngx-dropzone","",1,"custom-dropzone",3,"accept","change"],[1,"label"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"action"],["type","button","mat-raised-button","","color","primary",3,"click"],[3,"value"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"button",2),l["\u0275\u0275elementStart"](3,"mat-icon"),l["\u0275\u0275text"](4,"close"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",3),l["\u0275\u0275elementStart"](6,"mat-form-field",4),l["\u0275\u0275elementStart"](7,"mat-label"),l["\u0275\u0275text"](8,"Select Folder"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"mat-select",5),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFolder=e}),l["\u0275\u0275template"](10,b,3,4,"mat-option",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",7),l["\u0275\u0275listener"]("change",function(e){return t.onSelect(e)}),l["\u0275\u0275elementStart"](12,"ngx-dropzone-label"),l["\u0275\u0275elementStart"](13,"div",8),l["\u0275\u0275elementStart"](14,"h2"),l["\u0275\u0275text"](15,"Upload or Drug and Drop Here"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,C,3,3,"ngx-dropzone-image-preview",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",10),l["\u0275\u0275elementStart"](18,"button",11),l["\u0275\u0275listener"]("click",function(){return t.onUploadImages()}),l["\u0275\u0275text"](19," Upload Now "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",t.selectedFolder),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.folders),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("accept","image/*"),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngForOf",t.files))},directives:[m.lW,o.ZT,u.Hw,h.KE,h.hX,f.gD,a.JJ,a.On,i.NgForOf,y._f,y.Jj,v.ey,y.sv],pipes:[i.TitleCasePipe],styles:[".dialog-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 12px;text-align:right}.custom-dropzone[_ngcontent-%COMP%], ngx-dropzone[_ngcontent-%COMP%]{margin:20px}.label[_ngcontent-%COMP%]{width:100%;text-align:center}.custom-dropzone[_ngcontent-%COMP%]{height:316px;color:#fff;border:5px dashed #eb4f4f;border-radius:5px;font-size:20px;display:grid;grid-template-columns:repeat(2,1fr);background:#af01019e;margin:0}.custom-dropzone[_ngcontent-%COMP%]     img{width:100%!important}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid #eb4f4f}.action[_ngcontent-%COMP%]{text-align:center;padding:12px 16px}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.mat-select-folder[_ngcontent-%COMP%]{width:320px}"]}),e})();var x=n(83588),P=n(47701),O=n(98720),_=n(44689),w=n(70653),M=n(55388),E=n(31269),I=n(29282),F=n(41293),D=n(9550);const k=["searchForm"],N=["searchInput"];function A(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",26),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().deselectAll()}),l["\u0275\u0275elementStart"](1,"mat-icon"),l["\u0275\u0275text"](2,"remove_circle_outline"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](3," Clear All "),l["\u0275\u0275elementEnd"]()}}function T(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",17),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"titlecase"),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,2,e.name)," ")}}function R(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"figure",27),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).$implicit;return l["\u0275\u0275nextContext"]().onSelectImage(t)}),l["\u0275\u0275element"](1,"img",28),l["\u0275\u0275elementStart"](2,"div",29),l["\u0275\u0275elementStart"](3,"mat-icon"),l["\u0275\u0275text"](4,"check"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",30),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("src",e.url,l["\u0275\u0275sanitizeUrl"])("alt",e.name),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("fxHide",n.checkSelected(e)),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](e.name)}}function L(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",38),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).$implicit;return l["\u0275\u0275nextContext"](2).selectPreviewImage(t)}),l["\u0275\u0275element"](1,"img",39),l["\u0275\u0275elementStart"](2,"div",40),l["\u0275\u0275elementStart"](3,"button",2),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).$implicit;return l["\u0275\u0275nextContext"](2).removeSelectImage(t)}),l["\u0275\u0275elementStart"](4,"mat-icon"),l["\u0275\u0275text"](5,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("src",e.url,l["\u0275\u0275sanitizeUrl"])("alt",e.name)}}function j(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",41),l["\u0275\u0275elementStart"](1,"button",42),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).onCloseDialog()}),l["\u0275\u0275text"](2," Set Image "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}}function V(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",17),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"titlecase"),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,2,e.name)," ")}}function z(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",43),l["\u0275\u0275elementStart"](1,"div",44),l["\u0275\u0275elementStart"](2,"p"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"form",45),l["\u0275\u0275listener"]("ngSubmit",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).onImageDataUpdate()}),l["\u0275\u0275elementStart"](5,"mat-form-field",46),l["\u0275\u0275elementStart"](6,"mat-label"),l["\u0275\u0275text"](7,"Image Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](8,"input",47),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"mat-form-field",46),l["\u0275\u0275elementStart"](10,"mat-label"),l["\u0275\u0275text"](11,"Select Folder"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"mat-select",48),l["\u0275\u0275template"](13,V,3,4,"mat-option",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",49),l["\u0275\u0275elementStart"](15,"button",50),l["\u0275\u0275text"](16," Update Info "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"button",51),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).deleteImages()}),l["\u0275\u0275elementStart"](18,"mat-icon"),l["\u0275\u0275text"](19,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](20," Delete "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](null==e.selectPreview?null:e.selectPreview.url),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("formGroup",e.dataForm),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngForOf",e.folders)}}function q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",31),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275elementStart"](2,"div",32),l["\u0275\u0275template"](3,L,6,2,"div",33),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",34),l["\u0275\u0275element"](5,"img",35),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,j,3,0,"div",36),l["\u0275\u0275template"](7,z,21,3,"div",37),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",e.selectedImages),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("src",null==e.selectPreview?null:e.selectPreview.url,l["\u0275\u0275sanitizeUrl"])("alt",null==e.selectPreview?null:e.selectPreview.name),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.selectedImages&&e.selectedImages.length>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.selectPreview)}}const U=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};let G=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s,c,d,p){this.router=e,this.activatedRoute=t,this.dialog=n,this.galleryService=i,this.reloadService=r,this.fileUploadService=a,this.imageFolderService=o,this.utilsService=l,this.fb=s,this.spinner=c,this.dialogRef=d,this.data=p,this.currentPage=1,this.totalProducts=0,this.productsPerPage=24,this.totalProductsStore=0,this.searchProducts=[],this.overlay=!1,this.isLoading=!1,this.searchQuery=null,this.selectedImages=[],this.holdPrevData=[],this.images=[],this.folders=[],this.selectedFolder=null,this.queryFolder=null}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.currentPage=e&&e.page?e.page:1,this.getAllGalleryList()}),this.reloadService.refreshGallery$.subscribe(()=>{this.getAllGalleryList()}),this.getAllImageFolderList(),this.dataForm=this.fb.group({name:[null,a.kI.required],folder:[null,a.kI.required]})}ngAfterViewInit(){var e;const t=null===(e=this.searchForm)||void 0===e?void 0:e.valueChanges;null==t||t.pipe((0,x.j)("searchTerm"),(0,P.b)(200),(0,O.x)(),(0,_.w)(e=>{if(this.searchQuery=e,!this.searchQuery)return this.overlay=!1,this.searchProducts=[],this.images=this.holdPrevData,this.totalProducts=this.totalProductsStore,this.searchQuery=null,w.E;this.isLoading=!0;const t={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};return this.galleryService.getSearchImages(e,t)})).subscribe(e=>{this.isLoading=!1,this.searchProducts=e.data,this.images=this.searchProducts,this.totalProducts=e.count,this.currentPage=1,this.router.navigate([],{queryParams:{page:this.currentPage}})},()=>{this.isLoading=!1})}setImageDataForm(e){var t;null===(t=this.dataForm)||void 0===t||t.patchValue(e)}getAllImageFolderList(){this.imageFolderService.getAllImageFolderList().subscribe(e=>{this.folders=e.data},e=>{console.log(e)})}getAllGalleryList(){this.spinner.show();const e={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};this.galleryService.getAllGalleryList(e,this.queryFolder?this.queryFolder:null).subscribe(e=>{this.images=e.data,this.holdPrevData=e.data,this.totalProducts=e.count,this.totalProductsStore=e.count,this.spinner.hide(),window.scrollTo(0,0)},e=>{this.spinner.hide(),console.log(e)})}editGalleryData(e){this.galleryService.editGalleryData(e).subscribe(e=>{this.reloadService.needRefreshGallery$()},e=>{console.log(e)})}onPageChanged(e){this.router.navigate([],{queryParams:{page:e}})}onSelectImage(e){if(-1===this.selectedImages.findIndex(t=>t._id===e._id)){this.selectedImages.push(e),this.selectPreview=this.selectedImages[this.selectedImages.length-1];const t=this.selectPreview.folder,n=this.folders.find(e=>e._id===t._id);this.setImageDataForm({name:this.selectPreview.name,folder:n}),1===this.selectedImages.length||this.setImageDataForm({})}else this.removeSelectImage(e)}checkSelected(e){return-1===this.selectedImages.findIndex(t=>t._id===e._id)}removeSelectImage(e,t){t&&t.stopPropagation();const n=this.selectedImages.findIndex(t=>t._id===e._id);this.selectedImages.splice(n,1);const i=this.selectedImages.length-1;if(i>=0){this.selectPreview=this.selectedImages[i];const e=this.selectPreview.folder,t=this.folders.find(t=>t._id===e._id);this.setImageDataForm({name:this.selectPreview.name,folder:t})}else this.selectPreview=void 0}openComponentDialog(e){this.dialog.open(S,{data:e,panelClass:["theme-dialog","dialog-no-radius"],maxWidth:"800px",maxHeight:"580px",height:"100%",width:"100%",autoFocus:!1,disableClose:!1})}deleteImages(){const e=this.selectedImages.map(e=>e._id),t=this.selectedImages.map(e=>e.url);this.galleryService.deleteGalleryDataMulti(e).subscribe(e=>{this.fileUploadService.removeFileMultiArray(t).subscribe(e=>{this.reloadService.needRefreshGallery$(),this.selectedImages=[]})},e=>{console.log(e)})}onImageDataUpdate(){var e,t,n;if(null===(e=this.dataForm)||void 0===e?void 0:e.invalid)return;const i=null===(t=this.dataForm)||void 0===t?void 0:t.value.folder,r=Object.assign(Object.assign(Object.assign({},null===(n=this.dataForm)||void 0===n?void 0:n.value),{folder:i._id}),{_id:this.selectedImages[0]._id});this.editGalleryData(r)}selectPreviewImage(e){this.selectPreview=e,this.setImageDataForm({name:this.selectPreview.name,folder:this.selectPreview.folder})}deselectAll(){var e;this.selectedImages=[],this.selectPreview=void 0,this.setImageDataForm({}),this.searchQuery=null,this.searchProducts=[],null===(e=this.searchForm)||void 0===e||e.resetForm(),this.queryFolder=null,this.router.navigate([],{queryParams:{page:1}})}onFilterSelectChange(e){this.queryFolder=e.value,this.currentPage>1?this.router.navigate([],{queryParams:{page:1}}):this.getAllGalleryList()}onCloseDialog(){this.dialogRef.close({data:this.selectedImages}),this.router.navigate([],{queryParams:null})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](r.F0),l["\u0275\u0275directiveInject"](r.gz),l["\u0275\u0275directiveInject"](o.uw),l["\u0275\u0275directiveInject"](c.r),l["\u0275\u0275directiveInject"](p.f),l["\u0275\u0275directiveInject"](s.J),l["\u0275\u0275directiveInject"](M.f),l["\u0275\u0275directiveInject"](d.F),l["\u0275\u0275directiveInject"](a.qu),l["\u0275\u0275directiveInject"](E.t2),l["\u0275\u0275directiveInject"](o.so),l["\u0275\u0275directiveInject"](o.WI))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-image-gallery"]],viewQuery:function(e,t){if(1&e&&(l["\u0275\u0275viewQuery"](k,5),l["\u0275\u0275viewQuery"](N,5)),2&e){let e;l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.searchForm=e.first),l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.searchInput=e.first)}},decls:38,vars:16,consts:[[1,"container-fluid"],[1,"close"],["mat-icon-button","","color","warn",3,"click"],[1,"header"],[1,"left"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"search"],[1,"search-form"],["searchForm","ngForm"],["type","text","placeholder","Search here...","name","searchTerm","autocomplete","off","ngModel","","required",""],["searchInput",""],[1,"icon"],[1,"content"],[1,"main"],["appearance","outline",1,"mat-select-folder"],["name","food",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"gallery"],["class","thumb",3,"click",4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"product-pagination",3,"autoHide","maxSize","pageChange"],["class","side-bar",4,"ngIf"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],["mat-raised-button","","color","warn",3,"click"],[1,"thumb",3,"click"],[1,"image",3,"src","alt"],[1,"overlay-ng",3,"fxHide"],[1,"caption"],[1,"side-bar"],[1,"multi"],["class","preview",3,"click",4,"ngFor","ngForOf"],[1,"single"],[1,"preview",3,"src","alt"],["class","action action-set-area",4,"ngIf"],["class","edit-field",4,"ngIf"],[1,"preview",3,"click"],[3,"src","alt"],[1,"overlay-ac"],[1,"action","action-set-area"],["mat-stroked-button","","color","primary",3,"click"],[1,"edit-field"],[1,"url"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"mat-field"],["formControlName","name","required","","matInput","","placeholder","Enter Image name"],["formControlName","folder","required",""],[1,"form-action"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","type","button","color","warn",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"button",2),l["\u0275\u0275listener"]("click",function(){return t.onCloseDialog()}),l["\u0275\u0275elementStart"](3,"mat-icon"),l["\u0275\u0275text"](4,"close"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",3),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"button",5),l["\u0275\u0275listener"]("click",function(){return t.openComponentDialog(t.folders)}),l["\u0275\u0275elementStart"](8,"mat-icon"),l["\u0275\u0275text"](9,"add"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](10," Upload Images "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](11,A,4,0,"button",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",7),l["\u0275\u0275elementStart"](13,"form",8,9),l["\u0275\u0275element"](15,"input",10,11),l["\u0275\u0275elementStart"](17,"div",12),l["\u0275\u0275elementStart"](18,"mat-icon"),l["\u0275\u0275text"](19,"search"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",13),l["\u0275\u0275elementStart"](21,"div",14),l["\u0275\u0275elementStart"](22,"mat-form-field",15),l["\u0275\u0275elementStart"](23,"mat-label"),l["\u0275\u0275text"](24,"Select Folder"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"mat-select",16),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.selectedFolder=e})("selectionChange",function(e){return t.onFilterSelectChange(e)}),l["\u0275\u0275elementStart"](26,"mat-option",17),l["\u0275\u0275text"](27,"None"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](28,T,3,4,"mat-option",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",19),l["\u0275\u0275template"](30,R,7,4,"figure",20),l["\u0275\u0275pipe"](31,"paginate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](32,"div",21),l["\u0275\u0275elementStart"](33,"pagination-controls",22),l["\u0275\u0275listener"]("pageChange",function(e){return t.onPageChanged(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](34,q,8,5,"div",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](35,"ngx-spinner",24),l["\u0275\u0275elementStart"](36,"p",25),l["\u0275\u0275text"](37," Loading... "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("ngIf",t.selectedImages&&t.selectedImages.length>0),l["\u0275\u0275advance"](14),l["\u0275\u0275property"]("ngModel",t.selectedFolder),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("value",null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",t.folders),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",l["\u0275\u0275pipeBind2"](31,9,t.images,l["\u0275\u0275pureFunction3"](12,U,t.productsPerPage,t.currentPage,t.totalProducts))),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("autoHide",!0)("maxSize",15),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.selectedImages&&t.selectedImages.length>0),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("fullScreen",!0))},directives:[m.lW,u.Hw,i.NgIf,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.Q7,h.KE,h.hX,f.gD,v.ey,i.NgForOf,I.LS,E.Ro,F.b8,a.sg,D.Nt,a.u],pipes:[I._s,i.TitleCasePipe],styles:[".search[_ngcontent-%COMP%]{width:100%;max-width:400px;position:relative;z-index:1299!important}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;border-radius:8px}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:45px;outline:none;border:none;padding:0 60px 0 20px;font-size:17px;background:#ffeaff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input.color[_ngcontent-%COMP%]{background:#f0f8ff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   input.sm[_ngcontent-%COMP%]{width:100%;height:38px;outline:none;border:none;padding:0 60px 0 20px;font-size:17px;background:#f0f8ff}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:55px;line-height:55px;font-size:24px;width:70px}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon.sm[_ngcontent-%COMP%]{position:absolute;top:0;right:0;text-align:center;color:#fff;background:#00a594;border:none;cursor:pointer}.search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .icon.sm[_ngcontent-%COMP%]{height:38px;line-height:38px;font-size:30px;width:40px}.container-fluid[_ngcontent-%COMP%]{width:85%;margin:0 auto}.close[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;right:0;z-index:10;text-align:center}.close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffc9c9}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin:16px 0}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}.mat-select-folder[_ngcontent-%COMP%]{width:320px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;grid-gap:16px;gap:16px;margin-top:40px}.content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:340px;background:#ececec}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .single[_ngcontent-%COMP%]{width:100%;margin-top:16px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .single[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .multi[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:8px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .multi[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{height:125px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden;cursor:pointer}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]:hover   .overlay-ac[_ngcontent-%COMP%]{visibility:visible}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]{visibility:hidden;position:absolute;left:0;top:0;width:100%;height:100%;display:grid;place-items:center;background:#06060630}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:16px 8px;display:flex;flex-direction:column;justify-content:center;grid-gap:12px;gap:12px}.action-set-area[_ngcontent-%COMP%]{width:100%;text-align:center}.action-set-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.form-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}.gallery[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;height:200px;background:#727272;position:relative;cursor:pointer}.gallery[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]:hover   .caption[_ngcontent-%COMP%]{opacity:1}.gallery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.gallery[_ngcontent-%COMP%]   .overlay-ng[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000082;display:grid;place-items:center}.gallery[_ngcontent-%COMP%]   .overlay-ng[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:48px;font-size:48px;color:#d5d5d5}.gallery[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{overflow:hidden;padding:0;margin:0;position:absolute;bottom:0;left:0;width:100%;font-family:Raleway,sans-serif;color:#fff;opacity:0;background:linear-gradient(0deg,#00000080,#fff0);transition:.3s}.edit-field[_ngcontent-%COMP%]{width:95%;margin:8px auto}.edit-field[_ngcontent-%COMP%]   .mat-field[_ngcontent-%COMP%]{width:100%}.edit-field[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]{width:85%;border:1px solid #bdbdbd;padding:4px 10px;border-radius:4px;margin-bottom:8px;height:auto;overflow:hidden;text-wrap:normal}.edit-field[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-wrap:break-word;padding:0;margin:0}.pagination-container[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media only screen and (min-width:1200px) and (max-width:1440px){.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (min-width:960px) and (max-width:1199px){.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (min-width:768px) and (max-width:959px){.container-fluid[_ngcontent-%COMP%]{width:100%;padding:0 16px}.content[_ngcontent-%COMP%]{grid-gap:12px;gap:12px}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:260px}.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}@media only screen and (max-width:599px){.header[_ngcontent-%COMP%]{width:100%;flex-direction:column;justify-content:space-between;margin:16px 0}.header[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px}.container-fluid[_ngcontent-%COMP%]{width:100%;padding:0}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{width:100%}.gallery[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);padding:2px;transition:.3s;grid-gap:16px;gap:16px}}"]}),e})();var B=n(65957),$=n(33817),Q=n(58626),K=n(61613),H=n(34535),W=n(81830),J=n(36140),X=n(65031),Z=n(24313),Y=n(97426),ee=n(28858),te=n(22797),ne=n(40994),ie=n(35965),re=n(99235),ae=n(87672);const oe=["input"];function le(e,t){1&e&&l["\u0275\u0275element"](0,"mat-spinner",5)}function se(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",6),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.noResultsMessage,"\n")}}const ce=function(e){return{"background-color":e}};let de=(()=>{class e{constructor(e){this.showSpinner=!0,this.noResultsMessage="No results",this.noResults=!1,this.localSpinner=!1,this.filteredReturn=new l.EventEmitter,this.filteredItems=[],this.searchForm=e.group({value:""})}ngOnInit(){this.searchForm.valueChanges.subscribe(e=>{this.showSpinner&&(this.localSpinner=!0),e.value?(this.filteredItems=null==this.displayMember?this.array.filter(t=>t.toLowerCase().includes(e.value.toLowerCase())):this.hasGroup&&this.groupArrayName&&this.displayMember?this.array.map(t=>{const n=Object.assign({},t);return n[this.groupArrayName]=n[this.groupArrayName].filter(t=>t[this.displayMember].toLowerCase().includes(e.value.toLowerCase())),n}).filter(e=>e[this.groupArrayName].length>0):this.array.filter(t=>t[this.displayMember].toLowerCase().includes(e.value.toLowerCase())),this.noResults=null==this.filteredItems||0===this.filteredItems.length):(this.filteredItems=this.array.slice(),this.noResults=!1),this.filteredReturn.emit(this.filteredItems),setTimeout(()=>{this.showSpinner&&(this.localSpinner=!1)},2e3)}),setTimeout(()=>{this.input.nativeElement.focus()},500),this.placeholder||(this.placeholder="Search...")}handleKeydown(e){(e.key&&1===e.key.length||e.keyCode>=re.A&&e.keyCode<=re.Z||e.keyCode>=re.xE&&e.keyCode<=re.aO||e.keyCode===re.L_)&&e.stopPropagation()}ngOnDestroy(){this.filteredReturn.emit(this.array)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](a.qu))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-select-filter"]],viewQuery:function(e,t){if(1&e&&l["\u0275\u0275viewQuery"](oe,7),2&e){let e;l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.input=e.first)}},inputs:{showSpinner:"showSpinner",noResultsMessage:"noResultsMessage",placeholder:"placeholder",array:"array",color:"color",displayMember:"displayMember",hasGroup:"hasGroup",groupArrayName:"groupArrayName"},outputs:{filteredReturn:"filteredReturn"},decls:6,vars:7,consts:[[1,"mat-filter",3,"formGroup","ngStyle"],["matInput","","formControlName","value",1,"mat-filter-input",3,"placeholder","keydown"],["input",""],["class","spinner","diameter","16",4,"ngIf"],["class","noResultsMessage",4,"ngIf"],["diameter","16",1,"spinner"],[1,"noResultsMessage"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"form",0),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275elementStart"](2,"input",1,2),l["\u0275\u0275listener"]("keydown",function(e){return t.handleKeydown(e)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,le,1,0,"mat-spinner",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](5,se,2,1,"div",4),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("formGroup",t.searchForm)("ngStyle",l["\u0275\u0275pureFunction1"](5,ce,t.color?t.color:"white")),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("placeholder",t.placeholder),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.localSpinner),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.noResults))},directives:[a._Y,a.JL,a.sg,i.NgStyle,a.Fj,a.JJ,a.u,i.NgIf,ae.$g],styles:[".mat-filter[_ngcontent-%COMP%]{position:sticky;top:0;border-bottom:1px solid grey;z-index:100;font-size:inherit;box-shadow:none;border-radius:0;padding:16px;box-sizing:border-box}.mat-filter-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border:0;background-color:unset;color:grey;width:100%}.spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}.noResultsMessage[_ngcontent-%COMP%]{margin-top:10px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:16px}"]}),e})(),pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,a.u5,a.UX,ae.Cq]]}),e})();var ge=n(57147);const me=["formTemplate"],ue=["attributeOpt"];function he(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",48),l["\u0275\u0275element"](1,"img",49),l["\u0275\u0275elementStart"](2,"div",50),l["\u0275\u0275elementStart"](3,"button",51),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).$implicit;return l["\u0275\u0275nextContext"](2).removeSelectImage(t)}),l["\u0275\u0275elementStart"](4,"mat-icon"),l["\u0275\u0275text"](5,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("src",e,l["\u0275\u0275sanitizeUrl"])("alt",e)}}function fe(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",46),l["\u0275\u0275listener"]("cdkDropListDropped",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().drop(t)}),l["\u0275\u0275template"](1,he,6,2,"div",47),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",e.chooseImage)}}function ye(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-select-filter",52),l["\u0275\u0275listener"]("filteredReturn",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().filteredCatList=t}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("placeholder","Filter Category List")("array",e.categories)("displayMember","categoryName")}}function ve(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.categoryName," ")}}function be(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-select-filter",52),l["\u0275\u0275listener"]("filteredReturn",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().filteredSubCatList=t}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("placeholder","Filter Sub Category List")("array",e.subCategories)("displayMember","subCategoryName")}}function Ce(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.subCategoryName," ")}}function Se(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-select-filter",52),l["\u0275\u0275listener"]("filteredReturn",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().filteredBrandList=t}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("placeholder","Filter brand List")("array",e.brands)("displayMember","brandName")}}function xe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.brandName," ")}}function Pe(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-select-filter",52),l["\u0275\u0275listener"]("filteredReturn",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().filteredGenericList=t}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("placeholder","Filter generic List")("array",e.generics)("displayMember","name")}}function Oe(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function _e(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"mat-select-filter",52),l["\u0275\u0275listener"]("filteredReturn",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().filteredUnitTypeList=t}),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("placeholder","Filter unit type")("array",e.unitTypes)("displayMember","name")}}function we(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53,54),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Me(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",e.viewValue," ")}}function Ee(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h4"),l["\u0275\u0275text"](1,"Select Price Data"),l["\u0275\u0275elementEnd"]())}function Ie(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",e.viewValue," ")}}function Fe(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",55),l["\u0275\u0275elementStart"](1,"div",56),l["\u0275\u0275elementStart"](2,"h4"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",57),l["\u0275\u0275elementStart"](5,"mat-form-field",58),l["\u0275\u0275elementStart"](6,"mat-label"),l["\u0275\u0275text"](7,"Price"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](8,"input",59),l["\u0275\u0275element"](9,"mat-error"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"mat-form-field",58),l["\u0275\u0275elementStart"](11,"mat-label"),l["\u0275\u0275text"](12,"Discount Type"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-select",60),l["\u0275\u0275elementStart"](14,"mat-option",53),l["\u0275\u0275text"](15,"None"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](16,Ie,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"mat-form-field",58),l["\u0275\u0275elementStart"](18,"mat-label"),l["\u0275\u0275text"](19,"Discount Amount"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](20,"input",61),l["\u0275\u0275element"](21,"mat-error"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"mat-form-field",58),l["\u0275\u0275elementStart"](23,"mat-label"),l["\u0275\u0275text"](24,"Quantity"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](25,"input",62),l["\u0275\u0275element"](26,"mat-error"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](27,"div",63),l["\u0275\u0275elementStart"](28,"button",64),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).index;return l["\u0275\u0275nextContext"]().removeAttributesField(t)}),l["\u0275\u0275elementStart"](29,"mat-icon"),l["\u0275\u0275text"](30,"delete"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=l["\u0275\u0275nextContext"]();l["\u0275\u0275property"]("formGroupName",e),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](n.selectedUnitTypes[e].name),l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("value",null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",n.discountType),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("readonly",!n.dataForm.value.prices[e].discountType)("required",n.dataForm.value.prices[e].discountType)}}function De(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"mat-option",53),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e.value),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",e.viewValue," ")}}let ke=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s,c,d,p,g,m,u){this.fb=e,this.utilsService=t,this.uiService=n,this.storageService=i,this.router=r,this.brandService=a,this.categoryService=o,this.subCategoryService=l,this.productService=s,this.unitTypeService=c,this.genericService=d,this.spinner=p,this.activatedRoute=g,this.textEditorCtrService=m,this.dialog=u,this.autoSlug=!0,this.chooseImage=[],this.discountType=[{value:1,viewValue:"Percentage"},{value:2,viewValue:"Cash"}],this.productsVisibilities=[{value:!0,viewValue:"Visible"},{value:!1,viewValue:"Hide"}],this.stockVisibilities=[{value:!0,viewValue:"In Stock"},{value:!1,viewValue:"Out Stock"}],this.brands=[],this.categories=[],this.subCategories=[],this.unitTypes=[],this.generics=[],this.categoryAttributes=[],this.subCategoryAttributes=[],this.selectedUnitTypes=[],this.id=null,this.product=null}ngOnInit(){this.initFormGroup(),this.editor=new B.ML,this.editorWarrantyService=new B.ML,this.editorWarrantyPolicy=new B.ML,this.editorPaymentPolicy=new B.ML,this.editorDeliveryPolicy=new B.ML,this.editorShortDescription=new B.ML,this.subRouteOne=this.activatedRoute.paramMap.subscribe(e=>{this.id=e.get("id"),this.id?this.getSingleProductById():(this.getAllCategory(),this.getAllBrands(),this.getAllGenerics(),this.getAllUnitTypes())}),this.autoGenerateSlug()}openComponentDialog(){this.dialog.open(G,{panelClass:["theme-dialog","full-screen-modal-lg"],width:"100%",minHeight:"100%",autoFocus:!1,disableClose:!0}).afterClosed().subscribe(e=>{e&&e.data&&e.data.length>0&&this.getPickedImages(e.data)})}getPickedImages(e){if(this.chooseImage&&this.chooseImage.length>0){const t=e.map(e=>e.url);this.chooseImage=this.utilsService.mergeArrayString(t,this.chooseImage)}else this.chooseImage=e.map(e=>e.url);this.dataForm.patchValue({images:this.chooseImage})}initFormGroup(){this.dataForm=this.fb.group({productName:[null,a.kI.required],productSlug:[null,a.kI.required],images:[null],sku:[null],stockVisibility:[null],productVisibility:[null,a.kI.required],category:[null],subCategory:[null],brand:[null],unitType:[null],generic:[null],description:[null],deliveryPolicy:[null],paymentPolicy:[null],prices:this.fb.array([])}),this.priceDataArray=this.dataForm.get("prices")}onSubmit(){if(this.dataForm.invalid)return void this.uiService.warn("Please complete all the required field");let e,t;this.spinner.show();const n=this.dataForm.value,i=this.categories.find(e=>e._id===n.category).categorySlug;n.subCategory&&(e=this.subCategories.find(e=>e._id===n.subCategory).subCategorySlug);const r=this.brands.find(e=>e._id===n.brand).brandSlug;n.generic&&(t=this.generics.find(e=>e._id===n.generic).slug);const a={categorySlug:i,subCategorySlug:e||null,genericSlug:t||null,brandSlug:r,price:n.prices.length?n.prices[0].price:0,discountType:n.prices.length?n.prices[0].discountType:null,discountAmount:n.prices.length?n.prices[0].discountAmount:null,images:this.chooseImage},o=Object.assign(Object.assign({},n),a);if(this.id){const e=Object.assign(Object.assign({},o),{_id:this.id});this.editProductById(e)}else this.addSingleProduct(o)}autoGenerateSlug(){var e;if(!0===this.autoSlug)this.sub=null===(e=this.dataForm)||void 0===e?void 0:e.get("productName").valueChanges.pipe().subscribe(e=>{var t;const n=this.utilsService.transformToSlug(e||"");null===(t=this.dataForm)||void 0===t||t.patchValue({productSlug:n})});else{if(null==this.sub)return;this.sub.unsubscribe()}}onHoldInputData(){var e;this.storageService.storeInputData(null===(e=this.dataForm)||void 0===e?void 0:e.value,"PRODUCT_INPUT")}removeSelectImage(e){const t=this.chooseImage.findIndex(t=>t===e);this.chooseImage.splice(t,1)}patchFormValueWithArray(){this.product&&this.product.prices&&this.product.prices.length&&(this.selectedUnitTypes=this.product.prices.map(e=>({_id:e._id,unitValue:null,name:e.unit.name,unitQuantity:1})),this.product.prices.map((e,t)=>{var n;const i=this.fb.group({_id:[e._id],unit:e.unit._id,price:[e.price],discountType:[e.discountType],discountAmount:[e.discountAmount],quantity:[e.quantity],soldQuantity:[e.soldQuantity]});(null===(n=this.dataForm)||void 0===n?void 0:n.get("prices")).push(i)}))}patchFormData(){this.chooseImage=this.product.images,this.dataForm.patchValue(this.product)}onSelectCategory(e){this.categoryAttributes=this.categories.find(t=>t._id===e.value).attributes,this.dataForm.patchValue({subCategory:null}),this.getAllSubCategoryByCategoryId(e.value,!0)}onSelectSubCategory(e){this.subCategoryAttributes=this.subCategories.find(t=>t._id===e.value).attributes}onSelectUnitType(e){var t;const n=this.selectedUnitTypes.findIndex(t=>t._id===e.source.value);if(e.value&&-1===n){const n=this.unitTypes.find(t=>t._id===e.source.value);this.selectedUnitTypes.push(n);const i=this.fb.group({unit:[n._id],price:[null,a.kI.required],discountType:[null],discountAmount:[null],quantity:[null,a.kI.required],soldQuantity:[0]});(null===(t=this.dataForm)||void 0===t?void 0:t.get("prices")).push(i)}}removeAttributesField(e){var t;null===(t=this.priceDataArray)||void 0===t||t.removeAt(e),this.selectedUnitTypes.splice(e,1)}removeAttributesFormArray(){this.priceDataArray.controls.forEach((e,t)=>{var n;null===(n=this.priceDataArray)||void 0===n||n.removeAt(t)}),this.priceDataArray.controls.splice(0,this.priceDataArray.controls.length),this.selectedUnitTypes=[]}getAllCategory(){this.subDataThree=this.categoryService.getAllCategory().subscribe(e=>{if(this.categories=e.data,this.filteredCatList=this.categories.slice(),this.product){const e=this.product.category;this.dataForm.patchValue({category:this.categories.find(t=>t._id===e._id)._id}),this.getAllSubCategoryByCategoryId(e._id,!1)}},e=>{console.log(e)})}getAllSubCategory(){this.subCategoryService.getAllSubCategory().subscribe(e=>{if(this.subCategories=e.data,this.filteredSubCatList=this.subCategories.slice(),this.product){const e=this.product.subCategory;e&&this.dataForm.patchValue({subCategory:this.subCategories.find(t=>t._id===e._id)._id})}},e=>{console.log(e)})}getAllSubCategoryByCategoryId(e,t){this.subCategoryService.getSubCategoryByCategoryId(e).subscribe(e=>{if(this.subCategories=e.data,this.filteredSubCatList=this.subCategories.slice(),this.product&&!t){const e=this.product.subCategory;e&&this.dataForm.patchValue({subCategory:this.subCategories.find(t=>t._id===e._id)._id})}},e=>{console.log(e)})}getAllBrands(){this.subDataFour=this.brandService.getAllBrands().subscribe(e=>{if(this.brands=e.data,this.filteredBrandList=this.brands.slice(),this.product){const e=this.product.brand;this.dataForm.patchValue({brand:this.brands.find(t=>t._id===e._id)._id})}},e=>{console.log(e)})}getAllUnitTypes(){this.unitTypeService.getAllUnitTypes().subscribe(e=>{this.unitTypes=e.data,this.filteredUnitTypeList=this.unitTypes.slice(),this.product&&this.patchFormValueWithArray()},e=>{console.log(e)})}getAllGenerics(){this.genericService.getAllGenerics().subscribe(e=>{if(this.generics=e.data,this.filteredGenericList=this.generics.slice(),this.product){const e=this.product.generic;e&&this.dataForm.patchValue({generic:this.generics.find(t=>t._id===e._id)._id})}},e=>{console.log(e)})}addSingleProduct(e){this.productService.addSingleProduct(e).subscribe(e=>{this.spinner.hide(),this.uiService.success(e.message),this.storageService.removeSessionData("PRODUCT_INPUT"),this.resetForm()},e=>{this.spinner.hide(),e.error.statusCode===$.q.EXISTS_OR_NOT_ACCEPT&&(this.dataForm.controls.productSlug.setErrors({incorrect:!0}),window.scrollTo({top:0,left:0,behavior:"smooth"})),console.log(e)})}editProductById(e){this.productService.editProductById(e).subscribe(e=>{this.spinner.hide(),this.uiService.success(e.message),this.storageService.removeSessionData("PRODUCT_INPUT")},e=>{this.spinner.hide(),console.log(e)})}getSingleProductById(){this.subDataOne=this.productService.getSingleProductById(this.id).subscribe(e=>{this.product=e.data,console.log(e.data),this.product&&(this.patchFormData(),this.getAllUnitTypes(),this.getAllCategory(),this.getAllBrands(),this.getAllGenerics())},e=>{console.log(e)})}hierarchyAttributes(){}resetForm(){this.formTemplate.resetForm(),this.priceDataArray=null,this.chooseImage=[],this.selectedUnitTypes=[],this.initFormGroup(),this.autoGenerateSlug()}drop(e){(0,Q.bA)(this.chooseImage,e.previousIndex,e.currentIndex)}ngOnDestroy(){this.storageService.removeSessionData("PRODUCT_INPUT"),this.editor.destroy(),this.editorWarrantyService.destroy(),this.editorWarrantyPolicy.destroy(),this.editorPaymentPolicy.destroy(),this.editorDeliveryPolicy.destroy(),this.editorShortDescription.destroy(),this.sub&&this.sub.unsubscribe(),this.subRouteOne&&this.subRouteOne.unsubscribe(),this.subDataOne&&this.subDataOne.unsubscribe(),this.subDataTwo&&this.subDataTwo.unsubscribe(),this.subDataThree&&this.subDataThree.unsubscribe(),this.subDataFour&&this.subDataFour.unsubscribe(),this.subDataFive&&this.subDataFive.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](a.qu),l["\u0275\u0275directiveInject"](d.F),l["\u0275\u0275directiveInject"](g.F),l["\u0275\u0275directiveInject"](K.V),l["\u0275\u0275directiveInject"](r.F0),l["\u0275\u0275directiveInject"](H.c),l["\u0275\u0275directiveInject"](W.H),l["\u0275\u0275directiveInject"](J.Q),l["\u0275\u0275directiveInject"](X.M),l["\u0275\u0275directiveInject"](Z.L),l["\u0275\u0275directiveInject"](Y.M),l["\u0275\u0275directiveInject"](E.t2),l["\u0275\u0275directiveInject"](r.gz),l["\u0275\u0275directiveInject"](ee.W),l["\u0275\u0275directiveInject"](o.uw))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-product"]],viewQuery:function(e,t){if(1&e&&(l["\u0275\u0275viewQuery"](me,5),l["\u0275\u0275viewQuery"](ue,5)),2&e){let e;l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.formTemplate=e.first),l["\u0275\u0275queryRefresh"](e=l["\u0275\u0275loadQuery"]())&&(t.attributeOpt=e.first)}},decls:112,vars:26,consts:[[1,"product-form"],[1,"container"],[1,"product-form-main"],[1,"product-card"],[1,"card-area"],[1,"card-header-area"],[1,"card-title"],[1,"check",3,"ngModel","ngModelChange","change"],[1,"card-content"],[1,"sub-title"],[1,"plus-box",3,"click"],["class","img-container","cdkDropList","","cdkDropListOrientation","vertical",3,"cdkDropListDropped",4,"ngIf"],[1,"product-form-details"],[3,"formGroup","ngSubmit"],["formTemplate","ngForm"],[1,"form-area-top"],["appearance","outline"],["matInput","","placeholder","name","type","text","formControlName","productName","required",""],["matInput","","placeholder","slug","type","text","formControlName","productSlug","required","",3,"readonly"],["placeholder","Select category","required","","formControlName","category",3,"disableOptionCentering","selectionChange"],["select",""],[3,"placeholder","array","displayMember","filteredReturn",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select sub category","formControlName","subCategory",3,"disableOptionCentering","selectionChange"],["select2",""],["placeholder","Select brand","required","","formControlName","brand",3,"disableOptionCentering"],["select3",""],["placeholder","Select generic","required","","formControlName","generic",3,"disableOptionCentering"],["selectGeneric",""],["placeholder","Select unit type","required","","formControlName","unitType",3,"disableOptionCentering","selectionChange"],["select4",""],["formControlName","stockVisibility"],[1,"title","w-100","price-array-title"],[4,"ngIf"],["formArrayName","prices",1,"price-input-area"],["class","price-unit-card",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","10px",1,"d-flex"],["appearance","outline",1,"w-100"],["formControlName","productVisibility"],[1,"editor"],[3,"editor"],["placeholder","Enter product full specification","formControlName","description","outputFormat","html",3,"editor"],[1,"submit-btn"],["mat-raised-button","","color","primary","type","submit"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],["cdkDropList","","cdkDropListOrientation","vertical",1,"img-container",3,"cdkDropListDropped"],["class","preview","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"preview"],[3,"src","alt"],[1,"overlay-ac"],["mat-icon-button","","color","warn",3,"click"],[3,"placeholder","array","displayMember","filteredReturn"],[3,"value"],["attributeOpt",""],[1,"price-unit-card",3,"formGroupName"],[1,"heading"],["fxLayout","row wrap",1,"top-input-view"],["appearance","outline","fxFlex","50"],["matInput","","placeholder","price","type","number","formControlName","price","required","","digitOnly","","decimal","true"],["formControlName","discountType"],["matInput","","placeholder","price","type","number","formControlName","discountAmount","digitOnly","","decimal","true",3,"readonly","required"],["matInput","","placeholder","quantity","type","number","formControlName","quantity","required","","digitOnly",""],[1,"bottom-action-view"],["type","button","mat-mini-fab","","color","warn",3,"click"]],template:function(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"section",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"mat-card",4),l["\u0275\u0275elementStart"](5,"mat-card-header",5),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"mat-card-title"),l["\u0275\u0275text"](8,"Add New Product "),l["\u0275\u0275elementStart"](9,"mat-checkbox",7),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.autoSlug=e})("change",function(){return t.autoGenerateSlug()}),l["\u0275\u0275text"](10,"Auto Slug "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"mat-card-content",8),l["\u0275\u0275elementStart"](12,"div",9),l["\u0275\u0275elementStart"](13,"h2"),l["\u0275\u0275text"](14,"image upload "),l["\u0275\u0275elementStart"](15,"span"),l["\u0275\u0275text"](16,"(max 5 max image)"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",10),l["\u0275\u0275listener"]("click",function(){return t.openComponentDialog()}),l["\u0275\u0275elementStart"](18,"span"),l["\u0275\u0275text"](19,"+"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](20,fe,2,1,"div",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"div",12),l["\u0275\u0275elementStart"](22,"form",13,14),l["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),l["\u0275\u0275elementStart"](24,"div",15),l["\u0275\u0275elementStart"](25,"div"),l["\u0275\u0275elementStart"](26,"mat-form-field",16),l["\u0275\u0275elementStart"](27,"mat-label"),l["\u0275\u0275text"](28,"Name"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](29,"input",17),l["\u0275\u0275element"](30,"mat-error"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](31,"div"),l["\u0275\u0275elementStart"](32,"mat-form-field",16),l["\u0275\u0275elementStart"](33,"mat-label"),l["\u0275\u0275text"](34,"Slug"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](35,"input",18),l["\u0275\u0275element"](36,"mat-error"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](37,"div"),l["\u0275\u0275elementStart"](38,"mat-form-field",16),l["\u0275\u0275elementStart"](39,"mat-label"),l["\u0275\u0275text"](40,"Category"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](41,"mat-select",19,20),l["\u0275\u0275listener"]("selectionChange",function(e){return t.onSelectCategory(e)}),l["\u0275\u0275template"](43,ye,1,3,"mat-select-filter",21),l["\u0275\u0275template"](44,ve,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](45,"mat-error"),l["\u0275\u0275text"](46,"This field is required"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](47,"div"),l["\u0275\u0275elementStart"](48,"mat-form-field",16),l["\u0275\u0275elementStart"](49,"mat-label"),l["\u0275\u0275text"](50,"Sub Category"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](51,"mat-select",23,24),l["\u0275\u0275listener"]("selectionChange",function(e){return t.onSelectSubCategory(e)}),l["\u0275\u0275template"](53,be,1,3,"mat-select-filter",21),l["\u0275\u0275template"](54,Ce,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](55,"mat-error"),l["\u0275\u0275text"](56,"This field is required"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](57,"div"),l["\u0275\u0275elementStart"](58,"mat-form-field",16),l["\u0275\u0275elementStart"](59,"mat-label"),l["\u0275\u0275text"](60,"Brand"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](61,"mat-select",25,26),l["\u0275\u0275template"](63,Se,1,3,"mat-select-filter",21),l["\u0275\u0275template"](64,xe,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](65,"mat-error"),l["\u0275\u0275text"](66,"This field is required"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](67,"div"),l["\u0275\u0275elementStart"](68,"mat-form-field",16),l["\u0275\u0275elementStart"](69,"mat-label"),l["\u0275\u0275text"](70,"Generic"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](71,"mat-select",27,28),l["\u0275\u0275template"](73,Pe,1,3,"mat-select-filter",21),l["\u0275\u0275template"](74,Oe,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](75,"mat-error"),l["\u0275\u0275text"](76,"This field is required"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](77,"div"),l["\u0275\u0275elementStart"](78,"mat-form-field",16),l["\u0275\u0275elementStart"](79,"mat-label"),l["\u0275\u0275text"](80,"Select Unit Type"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](81,"mat-select",29,30),l["\u0275\u0275listener"]("selectionChange",function(e){return t.onSelectUnitType(e)}),l["\u0275\u0275template"](83,_e,1,3,"mat-select-filter",21),l["\u0275\u0275template"](84,we,3,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](85,"mat-error"),l["\u0275\u0275text"](86,"This field is required"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](87,"div"),l["\u0275\u0275elementStart"](88,"mat-form-field",16),l["\u0275\u0275elementStart"](89,"mat-label"),l["\u0275\u0275text"](90,"Stock Visibility"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](91,"mat-select",31),l["\u0275\u0275template"](92,Me,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](93,"div",32),l["\u0275\u0275template"](94,Ee,2,0,"h4",33),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](95,"div",34),l["\u0275\u0275template"](96,Fe,31,6,"div",35),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](97,"div",36),l["\u0275\u0275elementStart"](98,"mat-form-field",37),l["\u0275\u0275elementStart"](99,"mat-label"),l["\u0275\u0275text"](100,"Product Visibility"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](101,"mat-select",38),l["\u0275\u0275template"](102,De,2,2,"mat-option",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](103,"div",39),l["\u0275\u0275element"](104,"ngx-editor-menu",40),l["\u0275\u0275element"](105,"ngx-editor",41),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](106,"div",42),l["\u0275\u0275elementStart"](107,"button",43),l["\u0275\u0275text"](108,"Submit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](109,"ngx-spinner",44),l["\u0275\u0275elementStart"](110,"p",45),l["\u0275\u0275text"](111," Loading... "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275reference"](42),n=l["\u0275\u0275reference"](52),i=l["\u0275\u0275reference"](62),r=l["\u0275\u0275reference"](72),a=l["\u0275\u0275reference"](82);l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",t.autoSlug),l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("ngIf",t.chooseImage&&t.chooseImage.length>0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.dataForm),l["\u0275\u0275advance"](13),l["\u0275\u0275property"]("readonly",t.autoSlug),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("disableOptionCentering",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.focused),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.filteredCatList),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("disableOptionCentering",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",n.focused),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.filteredSubCatList),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("disableOptionCentering",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",i.focused),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.filteredBrandList),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("disableOptionCentering",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",r.focused),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.filteredGenericList),l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("disableOptionCentering",!0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",a.focused),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.filteredUnitTypeList),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngForOf",t.stockVisibilities),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",(null==t.priceDataArray?null:t.priceDataArray.controls.length)>0),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",null==t.priceDataArray?null:t.priceDataArray.controls),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngForOf",t.productsVisibilities),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("editor",t.editor),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("editor",t.editor),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("fullScreen",!0)}},directives:[te.a8,te.dk,te.n5,ne.oG,a.JJ,a.On,te.dn,i.NgIf,a._Y,a.JL,a.sg,h.KE,h.hX,D.Nt,a.Fj,a.u,a.Q7,h.TO,f.gD,i.NgForOf,a.CE,ie.xw,ie.SQ,B.Mn,B.tP,m.lW,E.Ro,Q.Wj,Q.Zt,u.Hw,de,v.ey,a.x0,ie.yH,a.wV,ge.L],styles:[".editor[_ngcontent-%COMP%]{border:2px solid #0003;border-radius:4px}.editor[_ngcontent-%COMP%]     .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid #0003}.editor[_ngcontent-%COMP%]     .NgxEditor{min-height:100%;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:380px;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor[_ngcontent-%COMP%]     .CodeMirror{border:1px solid #eee;height:auto;margin-bottom:.7rem}.editor[_ngcontent-%COMP%]     .CodeMirror pre{white-space:pre!important}.editor.short-desc[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:200px;border-top-left-radius:0;border-top-right-radius:0;border:none}.editor.warranty-service[_ngcontent-%COMP%]     .NgxEditor__Content{min-height:130px;border-top-left-radius:0;border-top-right-radius:0;border:none}.product-form[_ngcontent-%COMP%]{display:block;width:100%;height:auto;box-sizing:border-box;background-color:#fff;margin-bottom:200px}.d-flex[_ngcontent-%COMP%]{width:100%}.product-form-main[_ngcontent-%COMP%]{width:100%;height:auto;box-sizing:border-box;padding:20px;background-color:#fff;box-shadow:0 2px 5px 0 #ddd;display:grid;grid-template-columns:2.7fr 5fr;grid-template-rows:auto;grid-gap:20px 20px;margin-top:20px}.card-area[_ngcontent-%COMP%]{box-shadow:none;border:none;display:block;padding:10px}.card-header-area[_ngcontent-%COMP%]{margin-bottom:5px}.card-header-area[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.card-title[_ngcontent-%COMP%]{margin-bottom:10px}.card-title[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px;font-style:normal;text-transform:capitalize;display:block;font-family:Open Sans,sans-serif;margin-right:10px}.card-title[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:inline-block;font-weight:400;font-size:14px;margin-left:5px;color:#858585}.card-content[_ngcontent-%COMP%]{display:block;width:100%;height:auto}.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-transform:uppercase;font-size:15px;font-family:Open Sans,sans-serif;display:block;color:#000;font-weight:600;margin:0;line-height:20px}.sub-title[_ngcontent-%COMP%]{margin-bottom:20px}.card-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858585;font-family:Open Sans,sans-serif;font-style:normal;font-size:14px;font-weight:400;text-transform:lowercase}.plus-box[_ngcontent-%COMP%]{height:180px;width:150px;background-color:#fff;box-shadow:0 4px 5px 0 #ddd;display:flex;align-items:center;justify-content:center;cursor:pointer}.plus-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:600;font-size:20px}.img-container[_ngcontent-%COMP%]{width:100%;margin-top:24px}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{position:relative;width:85%;max-width:150px;margin:0 auto;height:150px;overflow:hidden;cursor:pointer}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]:hover   .overlay-ac[_ngcontent-%COMP%]{visibility:visible}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]{visibility:hidden;position:absolute;left:0;top:0;width:100%;height:100%;display:grid;place-items:center;background:#06060630}.img-container[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .overlay-ac[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff4500}.price-array-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#595959;font-family:Open Sans,sans-serif}.price-input-area[_ngcontent-%COMP%]{width:100%}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 1px 1px 3px #ffc4c4;margin:16px 0;padding:8px 0}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{width:100%}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#323232;font-size:18px;padding:4px 10px}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]   .top-input-view[_ngcontent-%COMP%]{width:100%}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]   .top-input-view[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:0 8px}.price-input-area[_ngcontent-%COMP%]   .price-unit-card[_ngcontent-%COMP%]   .bottom-action-view[_ngcontent-%COMP%]{text-align:center}.product-form-details[_ngcontent-%COMP%]{height:auto}.product-form-details[_ngcontent-%COMP%], .product-form-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block;width:100%}.form-area-top[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:0 10px;grid-template-rows:auto}.product-form-details[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:100%;max-width:100%}.price[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;grid-gap:0 10px}.quantity[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:0 10px}.submit-btn[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin-top:16px}.submit-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:180px}@media (max-width:991px){.product-form-main[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width:750px){.form-area-top[_ngcontent-%COMP%], .price[_ngcontent-%COMP%], .quantity[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (max-width:500px){.card-title[_ngcontent-%COMP%], .sub-title[_ngcontent-%COMP%]{text-align:center}.plus-box[_ngcontent-%COMP%]{margin:auto}.product-form-main[_ngcontent-%COMP%]{padding:15px}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1em}}"]}),e})();const Ne=[{path:"",component:ke},{path:"edit/:id",component:ke}];let Ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild(Ne)],r.Bz]}),e})();var Te=n(56861),Re=n(77154),Le=n(67490);let je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,Re.o9,Te.q,I.JX,a.u5,y.bB,a.UX,E.ef]]}),e})(),Ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,Ae,Te.q,Re.o9,a.UX,B.FP,a.u5,E.ef,ge.E7,Le.UM,je,pe]]}),e})()},33817:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var i=function(e){return e[e.UN_AUTHORIZED=401]="UN_AUTHORIZED",e[e.EXISTS_OR_NOT_ACCEPT=406]="EXISTS_OR_NOT_ACCEPT",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INPUT_VALIDATION_ERROR=422]="INPUT_VALIDATION_ERROR",e[e.DATABASE_ERROR=500]="DATABASE_ERROR",e}({})},81830:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var i=n(529),r=n(42693),a=n(99129),o=n(35366);const l=i.N.apiBaseLink+"/api/product-category/";let s=(()=>{class e{constructor(e){this.httpClient=e,this.categories=[]}addCategory(e){return this.httpClient.post(l+"add-category",e)}insertManyCategory(e){return this.httpClient.post(l+"add-multiple-category",e)}getAllCategory(e,t){let n=new r.LE;return e&&(n=n.append("pageSize",e.pageSize),n=n.append("page",e.currentPage)),t&&(n=n.append("isFeatured",t)),this.httpClient.get(l+"get-all-categories",{params:n})}getAllCategoryWithCount(e,t){let n=new r.LE;return e&&(n=n.append("pageSize",e.pageSize),n=n.append("page",e.currentPage)),t&&(n=n.append("isFeatured",t)),this.httpClient.get(l+"get-all-categories-with-count",{params:n})}getCategoryByCategoryId(e){return this.httpClient.get(l+"get-category-by-category-id/"+e)}editCategoryData(e){return this.httpClient.put(l+"edit-category-by-category",e)}getCategoryBySearch(e){return this.httpClient.get(l+"get-category-by-search/"+e)}deleteCategory(e){return this.httpClient.delete(l+"delete-category-by-id/"+e)}getCategoryByCategorySlug(e){return this.httpClient.get(l+"get-category-by-category-slug/"+e)}getSearchCategories(e,t){const n=t;let i=new r.LE;return i=i.append("q",e),i=i.append("pageSize",t.pageSize),i=i.append("currentPage",t.currentPage),this.httpClient.post(l+"get-categories-by-search",n,{params:i})}getAllCategoryNoRepeat(e){return new a.y(t=>{if(this.categories.length>0)t.next({data:this.categories}),t.complete();else{let n=new r.LE;e&&(n=n.append("select",e)),this.httpClient.get(l+"get-all-categories",{params:n}).subscribe(e=>{this.categories=e.data,t.next({data:this.categories}),t.complete()},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](r.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},36140:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var i=n(529),r=n(42693),a=n(35366);const o=i.N.apiBaseLink+"/api/product-sub-category/";let l=(()=>{class e{constructor(e){this.httpClient=e}addSubCategory(e){return this.httpClient.post(o+"add-sub-category",e)}insertManySubCategory(e){return this.httpClient.post(o+"add-multiple-sub-category",e)}getAllSubCategory(e){if(e){let t=new r.LE;return t=t.append("pageSize",e.pageSize),t=t.append("page",e.currentPage),this.httpClient.get(o+"get-all-sub-categories",{params:t})}return this.httpClient.get(o+"get-all-sub-categories")}getAllSubCategoryWithCount(e){if(e){let t=new r.LE;return t=t.append("pageSize",e.pageSize),t=t.append("page",e.currentPage),this.httpClient.get(o+"get-all-sub-categories-with-count",{params:t})}return this.httpClient.get(o+"get-all-sub-categories-with-count")}getSubCategoryByCategoryId(e){return this.httpClient.get(o+"get-sub-category-by-category-id/"+e)}editSubCategoryData(e){return this.httpClient.put(o+"edit-sub-category-by-sub-category",e)}getSubCategoryBySubCategoryId(e){return this.httpClient.get(o+"get-sub-category-by-sub-category-id/"+e)}getSubCategoryBySearch(e){return this.httpClient.get(o+"get-sub-category-by-search/"+e)}deleteSubCategory(e){return this.httpClient.delete(o+"delete-sub-category-by-id/"+e)}getSubCategoryBySubCategorySlug(e){return this.httpClient.get(o+"get-sub-category-by-sub-category-slug/"+e)}getSearchSubCategory(e,t){const n=t;let i=new r.LE;return i=i.append("q",e),i=i.append("pageSize",t.pageSize),i=i.append("currentPage",t.currentPage),this.httpClient.post(o+"get-sub-categories-by-search",n,{params:i})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
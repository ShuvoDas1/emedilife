(self.webpackChunkangular_ui=self.webpackChunkangular_ui||[]).push([[9801],{89801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OrdersModule:()=>K});var a=n(61116),r=n(33464),i=n(87514),o=n(80848),l=n(31041),d=n(92935),c=n(35366),s=n(99896),u=n(31179),m=n(56507),p=n(31269),g=n(68370),h=n(35965),f=n(13070),v=n(13841),b=n(84369),S=n(87064),P=n(9550),x=n(69024);const C=["templateForm"];function O(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",14),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("value",e.value),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.viewValue)}}function y(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-form-field",15),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](6).open()}),c["\u0275\u0275elementStart"](1,"mat-label"),c["\u0275\u0275text"](2,"Select Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"input",16),c["\u0275\u0275element"](4,"mat-datepicker-toggle",17),c["\u0275\u0275element"](5,"mat-datepicker",18,19),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](6),t=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("min",t.today)("matDatepicker",e),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("for",e)}}let _=(()=>{class e{constructor(e,t,n,a,r,o,l,d){this.fb=e,this.uiService=t,this.orderService=n,this.utilsService=a,this.spinner=r,this.reloadService=o,this.dialogRef=l,this.data=d,this.orderEnum=i.i,this.autoSlug=!0,this.isLoading=!1,this.order=null,this.today=new Date,this.orderStatus=[{value:i.i.PENDING,viewValue:"Pending"},{value:i.i.CONFIRM,viewValue:"Confirm"},{value:i.i.PROCESSING,viewValue:"Processing"},{value:i.i.SHIPPING,viewValue:"Shipping"},{value:i.i.DELIVERED,viewValue:"Delivered"},{value:i.i.CANCEL,viewValue:"Cancel"},{value:i.i.REFUND,viewValue:"Refund"}]}ngOnInit(){this.dataForm=this.fb.group({deliveryStatus:[null,l.kI.required],nextPhaseDate:[null]}),this.data&&(this.order=this.data,this.dataForm.patchValue({deliveryStatus:this.order.deliveryStatus}))}onSubmit(){if(this.dataForm.invalid)this.uiService.warn("Please complete all the required fields");else if(this.order){const e={updateDate:new Date,nextPhaseDate:this.dataForm.value.nextPhaseDate?new Date(this.dataForm.value.nextPhaseDate):null},t=Object.assign(Object.assign(Object.assign({},this.dataForm.value),{_id:this.order._id}),e);this.changeOrderStatus(t)}}changeOrderStatus(e){this.spinner.show(),this.orderService.changeOrderStatus(e).subscribe(e=>{this.uiService.success(e.message),this.dialogRef.close(),this.spinner.hide(),this.reloadService.needRefreshOrder$()},e=>{console.log(e),this.spinner.hide()})}get showDateField(){if(this.dataForm.value)switch(this.dataForm.value.deliveryStatus){case this.orderEnum.CANCEL:return this.dataForm.get("nextPhaseDate").clearValidators(),this.dataForm.get("nextPhaseDate").updateValueAndValidity(),this.dataForm.value.nextPhaseDate=null,!1;case this.orderEnum.PROCESSING:case this.orderEnum.CONFIRM:return this.dataForm.get("nextPhaseDate").setValidators([l.kI.required]),!0;case this.orderEnum.DELIVERED:case this.orderEnum.REFUND:return this.dataForm.get("nextPhaseDate").clearValidators(),this.dataForm.get("nextPhaseDate").updateValueAndValidity(),this.dataForm.value.nextPhaseDate=null,!1;case this.orderEnum.SHIPPING:return this.dataForm.get("nextPhaseDate").setValidators([l.kI.required]),!0;default:return this.dataForm.get("nextPhaseDate").clearValidators(),this.dataForm.get("nextPhaseDate").updateValueAndValidity(),this.dataForm.value.nextPhaseDate=null,!1}}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](l.qu),c["\u0275\u0275directiveInject"](s.F),c["\u0275\u0275directiveInject"](u.p),c["\u0275\u0275directiveInject"](m.F),c["\u0275\u0275directiveInject"](p.t2),c["\u0275\u0275directiveInject"](g.f),c["\u0275\u0275directiveInject"](d.so),c["\u0275\u0275directiveInject"](d.WI))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-update-order-status"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](C,5),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.templateForm=e.first)}},decls:22,vars:5,consts:[[2,"position","relative"],[1,"header-dialog"],["mat-dialog-title",""],["autocomplete","off","fxLayout","column","fxLayoutAlign","space-around center",3,"formGroup","ngSubmit"],["templateForm","ngForm"],["appearance","outline",1,"form-field","w-100"],["formControlName","deliveryStatus","required",""],[3,"value",4,"ngFor","ngForOf"],["class","mat-date-input-field","appearance","outline",3,"click",4,"ngIf"],[1,"action"],["type","button","mat-dialog-close","","mat-raised-button","","color","warn"],["mat-raised-button","","color","primary","type","submit"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],[3,"value"],["appearance","outline",1,"mat-date-input-field",3,"click"],["name","selectedDate","formControlName","nextPhaseDate","matInput","",3,"min","matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["datepicker",""]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"h1",2),c["\u0275\u0275text"](3,"Update Order Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"form",3,4),c["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),c["\u0275\u0275elementStart"](6,"mat-form-field",5),c["\u0275\u0275elementStart"](7,"mat-label"),c["\u0275\u0275text"](8,"Delivery Status"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"mat-select",6),c["\u0275\u0275template"](10,O,2,2,"mat-option",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"mat-error"),c["\u0275\u0275text"](12,"This field is required"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](13,y,7,3,"mat-form-field",8),c["\u0275\u0275elementStart"](14,"div",9),c["\u0275\u0275elementStart"](15,"button",10),c["\u0275\u0275text"](16," Cancel "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"button",11),c["\u0275\u0275text"](18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"ngx-spinner",12),c["\u0275\u0275elementStart"](20,"p",13),c["\u0275\u0275text"](21," Loading... "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("formGroup",t.dataForm),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.orderStatus),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.showDateField),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"]("Update Order Status"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!1))},directives:[d.uh,l._Y,l.JL,h.xw,h.Wh,l.sg,f.KE,f.hX,v.gD,l.JJ,l.u,l.Q7,a.NgForOf,f.TO,a.NgIf,b.lW,d.ZT,p.Ro,S.ey,l.Fj,P.Nt,x.hl,x.nW,f.R9,x.Mq],styles:[".header-dialog[_ngcontent-%COMP%]{margin:10px 0;width:100%;display:flex;align-items:center;justify-content:center;grid-gap:15px;gap:15px}form[_ngcontent-%COMP%]{width:450px;margin:20px auto}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;justify-content:center}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{color:#fff}"]}),e})();var M=n(31153),E=n(22797),w=n(77307),D=n(29282),I=n(41293),F=n(5148),N=n(92154),k=n(22215);const A=["matSelectFilter"];function R(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-option",29),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("value",e.value),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.viewValue)}}function V(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Invalid start date"),c["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1,"Invalid end date"),c["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275elementStart"](1,"button",31),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().clearFiltering()}),c["\u0275\u0275elementStart"](2,"mat-icon"),c["\u0275\u0275text"](3,"close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4," Clear Filter "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}const T=function(e){return[e]},z=function(e){return["order-details",e]};function B(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275pipe"](10,"orderType"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275text"](12),c["\u0275\u0275pipe"](13,"slugToNormal"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td",32),c["\u0275\u0275text"](15),c["\u0275\u0275pipe"](16,"slugToNormal"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"td",33),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"orderStatus"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"td"),c["\u0275\u0275text"](21),c["\u0275\u0275pipe"](22,"number"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"td"),c["\u0275\u0275elementStart"](24,"button",34),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"]().openUpdateOrderDialog(t)}),c["\u0275\u0275elementStart"](25,"mat-icon"),c["\u0275\u0275text"](26,"edit"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"button",35),c["\u0275\u0275elementStart"](28,"mat-icon"),c["\u0275\u0275text"](29,"visibility"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("data-label","Order"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.orderId?e.orderId:"N/A"),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("data-label","Date"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,20,e.checkoutDate)),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("data-label","District"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.district?e.district:"N/A"),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("data-label","Order Type"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](10,22,e.orderType)),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("data-label","Payment Type"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](13,24,e.paymentMethod,"_")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](34,T,"paid"===e.paymentStatus?"paid":"unpaid")),c["\u0275\u0275attribute"]("data-label","Payment Status"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](16,27,e.paymentStatus),""),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",n.getDeliveryStatusColor(e)),c["\u0275\u0275attribute"]("data-label","Delivery Status"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](19,29,e.deliveryStatus),""),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("data-label","Total"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("\u09f3 ",c["\u0275\u0275pipeBind2"](22,31,e.totalAmountWithDiscount,"2.2"),""),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("data-label","Actions"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction1"](36,z,e._id))}}const L=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}},$=[{path:"",component:(()=>{class e{constructor(e,t,n,a,r,o,d,c){this.dialog=e,this.orderService=t,this.router=n,this.activatedRoute=a,this.spinner=r,this.uiService=o,this.utilsService=d,this.reloadService=c,this.orderEnum=i.i,this.orders=[],this.currentPage=1,this.totalProducts=0,this.productsPerPage=50,this.totalProductsStore=0,this.orderStatus=[{value:null,viewValue:"None"},{value:i.i.PENDING,viewValue:"Pending"},{value:i.i.CONFIRM,viewValue:"Confirm"},{value:i.i.PROCESSING,viewValue:"Processing"},{value:i.i.SHIPPING,viewValue:"Shipping"},{value:i.i.DELIVERED,viewValue:"Delivered"},{value:i.i.CANCEL,viewValue:"Cancel"},{value:i.i.REFUND,viewValue:"Refund"}],this.dataFormRange=new l.cw({start:new l.NI,end:new l.NI}),this.isFiltering=!1,this.today=new Date,this.filterQuery=null,this.dataTypeFormat="exel"}ngOnInit(){this.reloadService.refreshOrder$.subscribe(()=>{this.getAllOrdersByAdmin()}),this.subAcRoute=this.activatedRoute.queryParams.subscribe(e=>{this.currentPage=e&&e.page?e.page:1,this.getAllOrdersByAdmin()})}getAllOrdersByAdmin(){this.spinner.show();const e={pageSize:this.productsPerPage.toString(),currentPage:this.currentPage.toString()};this.orderService.getAllOrdersByAdmin(e,null,this.filterQuery).subscribe(e=>{this.orders=e.data,this.totalProducts=e.count,this.spinner.hide()},e=>{this.spinner.hide(),console.log(e)})}onPageChanged(e){this.router.navigate([],{queryParams:{page:e}})}getDeliveryStatusColor(e){switch(e.deliveryStatus){case this.orderEnum.CANCEL:return"cancel";case this.orderEnum.PROCESSING:return"processing";case this.orderEnum.CONFIRM:return"confirm";case this.orderEnum.DELIVERED:return"delivered";case this.orderEnum.REFUND:return"refund";case this.orderEnum.SHIPPING:return"shipping";default:return"none"}}deleteOrderByAdmin(e){this.orderService.deleteOrderByAdmin(e).subscribe(e=>{console.log(e)},e=>{console.log(e)})}openUpdateOrderDialog(e){this.dialog.open(_,{data:e,panelClass:["theme-dialog"],autoFocus:!1,disableClose:!1}).afterClosed().subscribe(e=>{})}onFilterSelectChange(e){e.value?(this.filterQuery&&this.filterQuery.deliveryStatus?this.filterQuery.deliveryStatus=e.value:this.filterQuery=this.filterQuery?Object.assign(Object.assign({},this.filterQuery),{deliveryStatus:e.value}):{deliveryStatus:e.value},console.log("On Type Filter"),console.log(this.filterQuery),this.getAllOrdersByAdmin()):(delete this.filterQuery.deliveryStatus,this.getAllOrdersByAdmin())}openConfirmDialog(e){this.dialog.open(o.$,{maxWidth:"400px",data:{title:"Confirm Delete",message:"Are you sure you want delete this category?"}}).afterClosed().subscribe(e=>{e&&console.log("Data should be deleted")})}onFilterData(){!this.dataFormRange.controls.start.hasError("matStartDateInvalid")&&this.dataFormRange.value.start?!this.dataFormRange.controls.end.hasError("matEndDateInvalid")&&this.dataFormRange.value.end?(this.isFiltering=!0,this.startDate=this.utilsService.getDateString(this.dataFormRange.value.start),this.endDate=this.utilsService.getDateString(this.dataFormRange.value.end),this.isFiltering&&(this.filterQuery&&this.filterQuery.checkoutDate?this.filterQuery.checkoutDate={$gte:this.startDate,$lte:this.endDate}:this.filterQuery=this.filterQuery?Object.assign(Object.assign({},this.filterQuery),{checkoutDate:{$gte:this.startDate,$lte:this.endDate}}):{checkoutDate:{$gte:this.startDate,$lte:this.endDate}},this.getAllOrdersByAdmin(),console.log("On date Filter"),console.log(this.filterQuery))):this.uiService.warn("Invalid end date"):this.uiService.warn("Invalid start date")}clearFiltering(){this.isFiltering=!1,this.dataFormRange.reset(),this.filterQuery=null,this.matSelectFilter.value=null,this.getAllOrdersByAdmin()}exportDataToFile(){this.exportToExcel()}getProductInfoAsString(e){return e.map(e=>`${e.product.productName} - ${this.utilsService.slugToNormal(e.product.categorySlug)} - ${this.utilsService.slugToNormal(e.product.subCategorySlug)} - ${this.utilsService.slugToNormal(e.product.brandSlug)} (QTY #${e.quantity})`).join()}exportToExcel(){this.spinner.show(),this.orderService.getAllOrdersByAdminNoPaginate().subscribe(e=>{const t=e.data.map(e=>({orderId:e.orderId,checkoutDate:this.utilsService.getDateString(e.checkoutDate),deliveryDate:this.utilsService.getDateString(e.deliveryDate),subTotal:e.subTotal,discount:e.discount,shippingFee:e.shippingFee,totalAmount:e.totalAmount,totalAmountWithDiscount:e.totalAmountWithDiscount,paymentStatus:e.paymentStatus,paymentMethod:e.paymentStatus,name:e.name,phoneNo:e.phoneNo,email:e.email,alternativePhoneNo:e.alternativePhoneNo?e.alternativePhoneNo:"N/A",city:e.city?e.city:"N/A",area:e.area?e.area:"N/A",postCode:e.postCode?e.postCode:"N/A",shippingAddress:e.shippingAddress,couponId:e.couponId,couponValue:e.couponValue,orderNotes:e.orderNotes,products:this.getProductInfoAsString(e.orderedItems)})),n=this.utilsService.getDateString(new Date),a=M.utils.json_to_sheet(t),r=M.utils.book_new();M.utils.book_append_sheet(r,a,"Orders"),M.writeFile(r,`Orders_Export_${n}.xlsx`),this.spinner.hide()},e=>{this.spinner.hide(),console.log(e)})}ngOnDestroy(){this.subAcRoute&&this.subAcRoute.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](d.uw),c["\u0275\u0275directiveInject"](u.p),c["\u0275\u0275directiveInject"](r.F0),c["\u0275\u0275directiveInject"](r.gz),c["\u0275\u0275directiveInject"](p.t2),c["\u0275\u0275directiveInject"](s.F),c["\u0275\u0275directiveInject"](m.F),c["\u0275\u0275directiveInject"](g.f))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-orders"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](A,5),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.matSelectFilter=e.first)}},decls:64,vars:29,consts:[[1,"filter-area","p-1"],[1,"filter-container"],["appearance","outline",1,"filter-form-field"],[3,"selectionChange"],["matSelectFilter",""],[3,"value",4,"ngFor","ngForOf"],[1,"filter-date"],["appearance","outline",1,"mat-date-input-field",3,"click"],[3,"formGroup","rangePicker","max"],["matStartDate","","formControlName","start","placeholder","Start date","readonly",""],["matEndDate","","formControlName","end","placeholder","End date","readonly",""],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["mat-stroked-button","","color","primary",2,"margin-left","12px",3,"click"],[1,"p-1"],[1,"p-0"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-2"],[1,"pl-1"],["mat-raised-button","","color","accent",2,"margin-left","12px",3,"click"],["class","clear-filter",4,"ngIf"],[1,"table-container"],[1,"table-head"],["scope","col"],[4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"product-pagination",3,"autoHide","maxSize","pageChange"],["bdColor","rgba(0,0,0,0.25)","size","medium","color","#fff","type","ball-clip-rotate",2,"width","100vw","height","100vh",3,"fullScreen"],[2,"color","white"],[3,"value"],[1,"clear-filter"],["mat-raised-button","","color","warn",3,"click"],[3,"ngClass"],[1,"italic",3,"ngClass"],["mat-mini-fab","","color","primary",2,"margin-right","5px",3,"click"],["mat-mini-fab","","color","accent",2,"margin-right","5px",3,"routerLink"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"mat-card"),c["\u0275\u0275elementStart"](2,"h2"),c["\u0275\u0275text"](3,"Filter Order"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",1),c["\u0275\u0275elementStart"](5,"mat-form-field",2),c["\u0275\u0275elementStart"](6,"mat-label"),c["\u0275\u0275text"](7,"Filter Order"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"mat-select",3,4),c["\u0275\u0275listener"]("selectionChange",function(e){return t.onFilterSelectChange(e)}),c["\u0275\u0275template"](10,R,2,2,"mat-option",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",6),c["\u0275\u0275elementStart"](12,"mat-form-field",7),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275reference"](20).open()}),c["\u0275\u0275elementStart"](13,"mat-label"),c["\u0275\u0275text"](14,"Enter a date range"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"mat-date-range-input",8),c["\u0275\u0275element"](16,"input",9),c["\u0275\u0275element"](17,"input",10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](18,"mat-datepicker-toggle",11),c["\u0275\u0275element"](19,"mat-date-range-picker",null,12),c["\u0275\u0275template"](21,V,2,0,"mat-error",13),c["\u0275\u0275template"](22,j,2,0,"mat-error",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"button",14),c["\u0275\u0275listener"]("click",function(){return t.onFilterData()}),c["\u0275\u0275text"](24,"Filter Data "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",15),c["\u0275\u0275elementStart"](26,"mat-card",16),c["\u0275\u0275elementStart"](27,"div",17),c["\u0275\u0275elementStart"](28,"h2",18),c["\u0275\u0275text"](29,"Orders List"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"button",19),c["\u0275\u0275listener"]("click",function(){return t.exportDataToFile()}),c["\u0275\u0275elementStart"](31,"mat-icon"),c["\u0275\u0275text"](32,"file_download"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](34,Q,5,0,"div",20),c["\u0275\u0275elementStart"](35,"div",21),c["\u0275\u0275elementStart"](36,"table"),c["\u0275\u0275elementStart"](37,"thead"),c["\u0275\u0275elementStart"](38,"tr",22),c["\u0275\u0275elementStart"](39,"th",23),c["\u0275\u0275text"](40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"th",23),c["\u0275\u0275text"](42),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"th",23),c["\u0275\u0275text"](44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"th",23),c["\u0275\u0275text"](46),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"th",23),c["\u0275\u0275text"](48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"th",23),c["\u0275\u0275text"](50),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](51,"th",23),c["\u0275\u0275text"](52),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](53,"th",23),c["\u0275\u0275text"](54),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"th",23),c["\u0275\u0275text"](56),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](57,B,30,38,"tr",24),c["\u0275\u0275pipe"](58,"paginate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"div",25),c["\u0275\u0275elementStart"](60,"pagination-controls",26),c["\u0275\u0275listener"]("pageChange",function(e){return t.onPageChanged(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](61,"ngx-spinner",27),c["\u0275\u0275elementStart"](62,"p",28),c["\u0275\u0275text"](63," Loading... "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](20);c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngForOf",t.orderStatus),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("formGroup",t.dataFormRange)("rangePicker",e)("max",t.today),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("for",e),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.dataFormRange.controls.start.hasError("matStartDateInvalid")),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.dataFormRange.controls.end.hasError("matEndDateInvalid")),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate1"](" ","json"===t.dataTypeFormat?"Export as Json":"Export as Excel"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.filterQuery),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"]("Order"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Date"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("District"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Order Type"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Payment Type"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Payment Status"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Delivery Status"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Total"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]("Actions"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](58,22,t.orders,c["\u0275\u0275pureFunction3"](25,L,t.productsPerPage,t.currentPage,t.totalProducts))),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("autoHide",!0)("maxSize",15),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!0)}},directives:[E.a8,f.KE,f.hX,v.gD,a.NgForOf,x.wx,l.JL,l.sg,x.zY,l.Fj,l.JJ,l.u,x.By,x.nW,f.R9,x._g,a.NgIf,b.lW,h.xw,h.Wh,w.Hw,D.LS,p.Ro,S.ey,f.TO,a.NgClass,I.oO,r.rH],pipes:[D._s,a.DatePipe,F.v,N.U,k.M,a.DecimalPipe],styles:[".table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;border:1px solid #ccc;border-collapse:collapse;margin:0;padding:0;width:100%;font-size:16px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:24px;margin:.5em 0 .75em;font-weight:700}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f8f8f8;border:1px solid #ddd;padding:.35em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.625em;text-align:center;word-wrap:anywhere}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;background-color:#017970;color:#dbe9ff}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{height:45px;border:none;outline:none;font-size:16px;font-weight:700;padding:0 15px;box-sizing:border-box;overflow:hidden;background:#b9d8fb}@media screen and (min-width:670px) and (max-width:850px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin:0 auto;border:0}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125px;height:125px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;font-family:Open Sans,sans-serif;display:block;font-size:14.5px;text-align:right}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;font-size:13px;text-transform:uppercase;color:#017970}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{width:200px;height:42px;background:#b9d8fb}.table-container[_ngcontent-%COMP%]   .td-input-md[_ngcontent-%COMP%]:before{margin-top:14px}}@media screen and (max-width:600px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 auto;border:0}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:125px;height:125px;object-fit:contain}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.3em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;font-family:Open Sans,sans-serif;display:block;font-size:14.5px;text-align:right}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;font-weight:700;font-size:13px;text-transform:uppercase;color:#017970}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}.table-container[_ngcontent-%COMP%]   .input-in-table[_ngcontent-%COMP%]{width:200px;height:42px;background:#b9d8fb}.table-container[_ngcontent-%COMP%]   .td-input-md[_ngcontent-%COMP%]:before{margin-top:14px}}.filter-area[_ngcontent-%COMP%]{width:100%}.filter-area[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.filter-area[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .filter-form-field[_ngcontent-%COMP%], .filter-area[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-date-input-field[_ngcontent-%COMP%]{width:350px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans,sans-serif}.table-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}.pagination-container[_ngcontent-%COMP%]{text-align:center}.unpaid[_ngcontent-%COMP%]{text-transform:uppercase;color:#ff6e7b}.italic[_ngcontent-%COMP%]{font-style:italic;font-weight:700}.paid[_ngcontent-%COMP%]{text-transform:uppercase;color:#01ca75}.cancel[_ngcontent-%COMP%]{color:#ad0228}.processing[_ngcontent-%COMP%]{color:#156115}.confirm[_ngcontent-%COMP%], .delivered[_ngcontent-%COMP%], .refund[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{color:#00c14c}.clear-filter[_ngcontent-%COMP%]{text-align:right;padding:8px 12px}"]}),e})()},{path:"order-details/:id",component:n(82966).n}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[r.Bz.forChild($)],r.Bz]}),e})();var G=n(77154),W=n(56861),U=n(12231),H=n(15786),J=n(64510),X=n(84289);let K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[a.CommonModule,q,h.ae,W.q,D.JX,p.ef,U.D,l.UX,l.u5,G.o9,H.QM,J.K,X.kz]]}),e})()}}]);